



<!doctype html>
<html lang="zh" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
        <meta name="description" content="Linux学习网">
      
      
      
        <meta name="author" content="张涛">
      
      
        <meta name="lang:clipboard.copy" content="复制">
      
        <meta name="lang:clipboard.copied" content="已复制">
      
        <meta name="lang:search.language" content="jp">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="没有找到符合条件的结果">
      
        <meta name="lang:search.result.one" content="找到 1 个符合条件的结果">
      
        <meta name="lang:search.result.other" content="# 个符合条件的结果">
      
        <meta name="lang:search.tokenizer" content="[\uff0c\u3002]+">
      
      <link rel="shortcut icon" href="../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.0.3, mkdocs-material-4.2.0">
    
    
      
        <title>12. Mon9goDB replication - Linux学习网</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/application.750b69bd.css">
      
        <link rel="stylesheet" href="../../../assets/stylesheets/application-palette.224b79ff.css">
      
      
        
        
        <meta name="theme-color" content="#546e7a">
      
    
    
      <script src="../../../assets/javascripts/modernizr.74668098.js"></script>
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../../../assets/fonts/material-icons.css">
    
    
    
      
    
    
  </head>
  
    
    
    <body dir="ltr" data-md-color-primary="blue-grey" data-md-color-accent="pink">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448"
    viewBox="0 0 416 448" id="__github">
  <path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19-18.125
        8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19 18.125-8.5
        18.125 8.5 10.75 19 3.125 20.5zM320 304q0 10-3.125 20.5t-10.75
        19-18.125 8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19
        18.125-8.5 18.125 8.5 10.75 19 3.125 20.5zM360
        304q0-30-17.25-51t-46.75-21q-10.25 0-48.75 5.25-17.75 2.75-39.25
        2.75t-39.25-2.75q-38-5.25-48.75-5.25-29.5 0-46.75 21t-17.25 51q0 22 8
        38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0
        37.25-1.75t35-7.375 30.5-15 20.25-25.75 8-38.375zM416 260q0 51.75-15.25
        82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5-41.75
        1.125q-19.5 0-35.5-0.75t-36.875-3.125-38.125-7.5-34.25-12.875-30.25-20.25-21.5-28.75q-15.5-30.75-15.5-82.75
        0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25
        30.875q36.75-8.75 77.25-8.75 37 0 70 8 26.25-20.5
        46.75-30.25t47.25-9.75q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34
        99.5z" />
</svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#1" tabindex="1" class="md-skip">
        跳转至
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="../../.." title="Linux学习网" class="md-header-nav__button md-logo">
          
            <i class="md-icon"></i>
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            <span class="md-header-nav__topic">
              Linux学习网
            </span>
            <span class="md-header-nav__topic">
              12. Mon9goDB replication
            </span>
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
          
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="搜索" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            键入以开始搜索
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
        
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            


  

<a href="https://github.com/ZhangTao880414/mkdocs/" title="前往 Github 仓库" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    GitHub
  </div>
</a>
          </div>
        </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="../../.." title="Linux学习网" class="md-nav__button md-logo">
      
        <i class="md-icon"></i>
      
    </a>
    Linux学习网
  </label>
  
    <div class="md-nav__source">
      


  

<a href="https://github.com/ZhangTao880414/mkdocs/" title="前往 Github 仓库" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../../.." title="Home" class="md-nav__link">
      Home
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../../work/workSpecfication/" title="Work Specification" class="md-nav__link">
      Work Specification
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3">
    
    <label class="md-nav__link" for="nav-3">
      Security Hardening
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        Security Hardening
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../securityHardening/os/" title="1. OS" class="md-nav__link">
      1. OS
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../securityHardening/nginx/" title="2. Nginx" class="md-nav__link">
      2. Nginx
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../securityHardening/tomcat/" title="3. Tomcat" class="md-nav__link">
      3. Tomcat
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../securityHardening/mysql/" title="4. MySQL" class="md-nav__link">
      4. MySQL
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4">
    
    <label class="md-nav__link" for="nav-4">
      Automation tool
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        Automation tool
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4-1" type="checkbox" id="nav-4-1">
    
    <label class="md-nav__link" for="nav-4-1">
      1.Ansible
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-4-1">
        1.Ansible
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../ansible/ansible_index/" title="1. Introuce" class="md-nav__link">
      1. Introuce
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../ansible/ansible_modle/" title="2. Model" class="md-nav__link">
      2. Model
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../ansible/ansible_playbook_intrduce/" title="3. Playbook" class="md-nav__link">
      3. Playbook
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../ansible/ansible_install_nginx/" title="4. Use" class="md-nav__link">
      4. Use
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5">
    
    <label class="md-nav__link" for="nav-5">
      Operation Safety
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-5">
        Operation Safety
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../operationSafety/1.安全术语/" title="1. 安全术语" class="md-nav__link">
      1. 安全术语
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../operationSafety/2.渗透流程/" title="2. 渗透流程" class="md-nav__link">
      2. 渗透流程
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../operationSafety/3.HTTP/" title="3. HHTP" class="md-nav__link">
      3. HHTP
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6" type="checkbox" id="nav-6">
    
    <label class="md-nav__link" for="nav-6">
      Centos Service Install
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-6">
        Centos Service Install
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6-1" type="checkbox" id="nav-6-1">
    
    <label class="md-nav__link" for="nav-6-1">
      1. system
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-6-1">
        1. system
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../centos_service_install/Centos7-minimal安装图形界面/" title="1. Centos7 minimal安装图形界面" class="md-nav__link">
      1. Centos7 minimal安装图形界面
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../centos_service_install/Centos7-RPM命令使用/" title="2. Centos7 RPM命令使用" class="md-nav__link">
      2. Centos7 RPM命令使用
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../centos_service_install/Centos7-swap/" title="3. Centos7 swap 使用" class="md-nav__link">
      3. Centos7 swap 使用
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../centos_service_install/Centos7-关闭selinuxFirewall/" title="4. Centos7 关闭selinux及Firewall" class="md-nav__link">
      4. Centos7 关闭selinux及Firewall
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../centos_service_install/Centos7-配置hostname及hosts解析/" title="5. Centos7 配置hostname及hosts解析" class="md-nav__link">
      5. Centos7 配置hostname及hosts解析
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../centos_service_install/Centos7-配置static网络/" title="6. Centos7 配置static网络" class="md-nav__link">
      6. Centos7 配置static网络
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../centos_service_install/Centos7-配置免密登录/" title="7. Centos7 配置免密登录" class="md-nav__link">
      7. Centos7 配置免密登录
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../centos_service_install/Centos7-配置本地yum源/" title="8. Centos7 配置本地yum源" class="md-nav__link">
      8. Centos7 配置本地yum源
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../centos_service_install/Centos7-配置阿里云yum源和epel源/" title="9. Centos7 配置阿里云yum源和epel源" class="md-nav__link">
      9. Centos7 配置阿里云yum源和epel源
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../centos_service_install/CentOS7-python升级/" title="10. CentOS7 python升级" class="md-nav__link">
      10. CentOS7 python升级
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6-2" type="checkbox" id="nav-6-2">
    
    <label class="md-nav__link" for="nav-6-2">
      2. software
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-6-2">
        2. software
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../centos_service_install/Centos7-搭建DNS主备服务器/" title="1. Centos7 搭建DNS主备服务器" class="md-nav__link">
      1. Centos7 搭建DNS主备服务器
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../centos_service_install/Centos7-DNS客户端配置/" title="2. Centos7 DNS客户端配置" class="md-nav__link">
      2. Centos7 DNS客户端配置
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../centos_service_install/Centos7-安装配置jenkins/" title="3. Centos7 安装配置jenkins" class="md-nav__link">
      3. Centos7 安装配置jenkins
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../centos_service_install/Centos7-搭建gitlab/" title="4. Centos7 搭建gitlab" class="md-nav__link">
      4. Centos7 搭建gitlab
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../centos_service_install/Centos7-搭建iscsi存储服务器/" title="5. Centos7 搭建iscsi存储服务器" class="md-nav__link">
      5. Centos7 搭建iscsi存储服务器
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../centos_service_install/Centos7-搭建nfs存储服务器/" title="6. Centos7 搭建nfs存储服务器" class="md-nav__link">
      6. Centos7 搭建nfs存储服务器
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../centos_service_install/CentOS7-jumpserver跳板机搭建/" title="7. CentOS7 jumpserver跳板机搭建" class="md-nav__link">
      7. CentOS7 jumpserver跳板机搭建
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../centos_service_install/CentOS7-搭建git服务器/" title="8. CentOS7 搭建git服务器" class="md-nav__link">
      8. CentOS7 搭建git服务器
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../centos_service_install/Centos7-安装配置MKDOCS/" title="9. Centos7 install Mkdocs" class="md-nav__link">
      9. Centos7 install Mkdocs
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-7" type="checkbox" id="nav-7">
    
    <label class="md-nav__link" for="nav-7">
      ITIL
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-7">
        ITIL
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../itil/1.ITIL概述/" title="1. 概述" class="md-nav__link">
      1. 概述
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../itil/2.ITIL服务战略/" title="2. 服务战略" class="md-nav__link">
      2. 服务战略
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../itil/3.ITIL服务设计/" title="3. 服务设计" class="md-nav__link">
      3. 服务设计
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../itil/总结/" title="10. 总结" class="md-nav__link">
      10. 总结
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-8" type="checkbox" id="nav-8">
    
    <label class="md-nav__link" for="nav-8">
      Python
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-8">
        Python
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-8-1" type="checkbox" id="nav-8-1">
    
    <label class="md-nav__link" for="nav-8-1">
      1. Tools Use
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-8-1">
        1. Tools Use
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-8-1-1" type="checkbox" id="nav-8-1-1">
    
    <label class="md-nav__link" for="nav-8-1-1">
      virtualenv
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="3">
      <label class="md-nav__title" for="nav-8-1-1">
        virtualenv
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../python/tools/virtualenv.index/" title="1. virtualenv" class="md-nav__link">
      1. virtualenv
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../python/tools/virtualenvwrapper.index/" title="2. virtualenvwrapper" class="md-nav__link">
      2. virtualenvwrapper
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-8-1-2" type="checkbox" id="nav-8-1-2">
    
    <label class="md-nav__link" for="nav-8-1-2">
      pip
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="3">
      <label class="md-nav__title" for="nav-8-1-2">
        pip
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../python/tools/pip.index/" title="1. pip repo" class="md-nav__link">
      1. pip repo
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../centos_service_install/CentOS7-python升级/" title="upgrade" class="md-nav__link">
      upgrade
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-8-2" type="checkbox" id="nav-8-2">
    
    <label class="md-nav__link" for="nav-8-2">
      2. Lib Use
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-8-2">
        2. Lib Use
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-8-2-1" type="checkbox" id="nav-8-2-1">
    
    <label class="md-nav__link" for="nav-8-2-1">
      1. SQLAlchemy lib
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="3">
      <label class="md-nav__title" for="nav-8-2-1">
        1. SQLAlchemy lib
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../python/lib/SQLAlchemy/1.创建表/" title="1. Create table" class="md-nav__link">
      1. Create table
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../python/lib/SQLAlchemy/2.基本操作/" title="2. Base CMD" class="md-nav__link">
      2. Base CMD
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../python/lib/SQLAlchemy/3.回滚/" title="3. MySQL Roll Back" class="md-nav__link">
      3. MySQL Roll Back
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../python/lib/SQLAlchemy/4.统计分组/" title="4. Statistical grouping" class="md-nav__link">
      4. Statistical grouping
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../python/lib/SQLAlchemy/5.外键/" title="5. Foregin key" class="md-nav__link">
      5. Foregin key
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../python/lib/SQLAlchemy/6.关系定义/" title="6. Define Rrelationship" class="md-nav__link">
      6. Define Rrelationship
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-8-2-2" type="checkbox" id="nav-8-2-2">
    
    <label class="md-nav__link" for="nav-8-2-2">
      2. YAMLlib
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="3">
      <label class="md-nav__title" for="nav-8-2-2">
        2. YAMLlib
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../python/lib/yaml/1.yaml语法/" title="1. Yaml roll" class="md-nav__link">
      1. Yaml roll
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../python/lib/yaml/2.yaml使用/" title="2. Yaml Use" class="md-nav__link">
      2. Yaml Use
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-8-2-3" type="checkbox" id="nav-8-2-3">
    
    <label class="md-nav__link" for="nav-8-2-3">
      3. sh lib
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="3">
      <label class="md-nav__title" for="nav-8-2-3">
        3. sh lib
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../python/lib/sh/1.sh/" title="1. SH use" class="md-nav__link">
      1. SH use
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-8-2-4" type="checkbox" id="nav-8-2-4">
    
    <label class="md-nav__link" for="nav-8-2-4">
      4. excel lib
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="3">
      <label class="md-nav__title" for="nav-8-2-4">
        4. excel lib
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../python/lib/execel/1.xlrd_xlwt/" title="1. Xlrd_xlwt" class="md-nav__link">
      1. Xlrd_xlwt
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../python/lib/execel/2.openpyxl/" title="2. Openpyxl" class="md-nav__link">
      2. Openpyxl
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-8-2-5" type="checkbox" id="nav-8-2-5">
    
    <label class="md-nav__link" for="nav-8-2-5">
      5. lock-unlock
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="3">
      <label class="md-nav__title" for="nav-8-2-5">
        5. lock-unlock
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../python/lib/encryption_decryption/base64/1.base64使用/" title="1. Base64" class="md-nav__link">
      1. Base64
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../python/lib/encryption_decryption/base64/2.案例/" title="2. Lock-unlock execl table" class="md-nav__link">
      2. Lock-unlock execl table
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-8-2-6" type="checkbox" id="nav-8-2-6">
    
    <label class="md-nav__link" for="nav-8-2-6">
      6. Email lib
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="3">
      <label class="md-nav__title" for="nav-8-2-6">
        6. Email lib
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../python/lib/email/smtp/lib_smtp/" title="1. SMTP" class="md-nav__link">
      1. SMTP
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../python/lib/email/smtp/lib_yagmail/" title="2. YaGMAIL" class="md-nav__link">
      2. YaGMAIL
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-8-2-7" type="checkbox" id="nav-8-2-7">
    
    <label class="md-nav__link" for="nav-8-2-7">
      7. wordcloud lib
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="3">
      <label class="md-nav__title" for="nav-8-2-7">
        7. wordcloud lib
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../python/lib/wordcloud/1.wordcloud/" title="1. wordcloud" class="md-nav__link">
      1. wordcloud
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../python/lib/yield/1.yield/" title="8. yield lib" class="md-nav__link">
      8. yield lib
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-8-2-9" type="checkbox" id="nav-8-2-9">
    
    <label class="md-nav__link" for="nav-8-2-9">
      9. Nosql
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="3">
      <label class="md-nav__title" for="nav-8-2-9">
        9. Nosql
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../python/lib/nosql/mongo/mongo.index/" title="1. Mongo" class="md-nav__link">
      1. Mongo
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../python/lib/nosql/memcached/memcached.index/" title="2. Memcached" class="md-nav__link">
      2. Memcached
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-8-2-9-3" type="checkbox" id="nav-8-2-9-3">
    
    <label class="md-nav__link" for="nav-8-2-9-3">
      3. Redis
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="4">
      <label class="md-nav__title" for="nav-8-2-9-3">
        3. Redis
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../python/lib/nosql/redis/redis.index/" title="1. Redis" class="md-nav__link">
      1. Redis
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../python/lib/nosql/redis/redis.pipeline/" title="2. Redis pipeline" class="md-nav__link">
      2. Redis pipeline
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../python/lib/nosql/redis/redis.transaction/" title="3. Redis transaction" class="md-nav__link">
      3. Redis transaction
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../python/lib/nosql/redis/redis.pub_sub/" title="4. Redis pub_sub" class="md-nav__link">
      4. Redis pub_sub
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../python/lib/nosql/redis/redis.sentinel/" title="5. Redis sentinel" class="md-nav__link">
      5. Redis sentinel
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-8-2-10" type="checkbox" id="nav-8-2-10">
    
    <label class="md-nav__link" for="nav-8-2-10">
      10. Data process lib
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="3">
      <label class="md-nav__title" for="nav-8-2-10">
        10. Data process lib
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-8-2-10-1" type="checkbox" id="nav-8-2-10-1">
    
    <label class="md-nav__link" for="nav-8-2-10-1">
      1. NumPy
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="4">
      <label class="md-nav__title" for="nav-8-2-10-1">
        1. NumPy
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../python/lib/numPy/1.index/" title="1. introduce" class="md-nav__link">
      1. introduce
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-8-2-10-2" type="checkbox" id="nav-8-2-10-2">
    
    <label class="md-nav__link" for="nav-8-2-10-2">
      2. Pandas
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="4">
      <label class="md-nav__title" for="nav-8-2-10-2">
        2. Pandas
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../python/lib/pandas/1.index/" title="1. introduce" class="md-nav__link">
      1. introduce
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../python/lib/uuid/uuid.index/" title="11. UUID" class="md-nav__link">
      11. UUID
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../python/lib/LRU/LRU.index/" title="12. LRU" class="md-nav__link">
      12. LRU
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../python/lib/getpass/getpass.index/" title="13. Getpass" class="md-nav__link">
      13. Getpass
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../python/lib/os/os.index/" title="14. OS" class="md-nav__link">
      14. OS
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../python/lib/sys/sys.index/" title="15. SYS" class="md-nav__link">
      15. SYS
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../python/lib/psutil/psutil.index/" title="16. Psutil" class="md-nav__link">
      16. Psutil
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-8-3" type="checkbox" id="nav-8-3">
    
    <label class="md-nav__link" for="nav-8-3">
      3. Base Use
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-8-3">
        3. Base Use
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../python/base/list/" title="1. list" class="md-nav__link">
      1. list
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../python/base/tuple/" title="2. tuple" class="md-nav__link">
      2. tuple
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../python/base/dict/" title="3. dict" class="md-nav__link">
      3. dict
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../python/base/datetime/" title="4. date" class="md-nav__link">
      4. date
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-8-4" type="checkbox" id="nav-8-4">
    
    <label class="md-nav__link" for="nav-8-4">
      4. Sample
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-8-4">
        4. Sample
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../python/sample/remove_dir_files/" title="1. Remove dir all files" class="md-nav__link">
      1. Remove dir all files
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../python/sample/dict_nesting/" title="2. Dict insting" class="md-nav__link">
      2. Dict insting
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-9" type="checkbox" id="nav-9">
    
    <label class="md-nav__link" for="nav-9">
      Flask
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-9">
        Flask
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../python/flask/flask.index/" title="1. Intruduce" class="md-nav__link">
      1. Intruduce
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../python/flask/flask.config/" title="2. Configuration" class="md-nav__link">
      2. Configuration
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../python/flask/flask.url/" title="3. URL" class="md-nav__link">
      3. URL
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../python/flask/flask.methods/" title="4. Requist" class="md-nav__link">
      4. Requist
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../python/flask/flask.jinja2/" title="5. Model" class="md-nav__link">
      5. Model
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-10" type="checkbox" id="nav-10">
    
    <label class="md-nav__link" for="nav-10">
      Django
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-10">
        Django
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../python/django/note/django.url_name/" title="1. URL Name" class="md-nav__link">
      1. URL Name
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../python/django/note/django.duplication_url_name/" title="2. Rename URL" class="md-nav__link">
      2. Rename URL
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../python/django/url/django.reverse_url/" title="3. URL Reverse" class="md-nav__link">
      3. URL Reverse
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../python/django/url/django.paginator/" title="4. Page Split" class="md-nav__link">
      4. Page Split
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../python/django/form/django.form/" title="5. From" class="md-nav__link">
      5. From
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../python/django/note/django.blank/" title="6. Empty From" class="md-nav__link">
      6. Empty From
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../python/django/middleware/django.middleware/" title="7. Middleware" class="md-nav__link">
      7. Middleware
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../linux/server/deploy_django/deploy_django.index/" title="8. Django Deploy" class="md-nav__link">
      8. Django Deploy
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-11" type="checkbox" id="nav-11">
    
    <label class="md-nav__link" for="nav-11">
      Linux
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-11">
        Linux
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-11-1" type="checkbox" id="nav-11-1">
    
    <label class="md-nav__link" for="nav-11-1">
      1. Tools
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-11-1">
        1. Tools
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../tools/elinks/elinks.index/" title="1. Elinks" class="md-nav__link">
      1. Elinks
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../tools/script_scriptreplay/1.index/" title="2. Linux terminal recovery" class="md-nav__link">
      2. Linux terminal recovery
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-11-1-3" type="checkbox" id="nav-11-1-3">
    
    <label class="md-nav__link" for="nav-11-1-3">
      3. Xshell
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="3">
      <label class="md-nav__title" for="nav-11-1-3">
        3. Xshell
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../tools/xshell/xshell.index/" title="1. Xshell session export" class="md-nav__link">
      1. Xshell session export
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../tools/xshell/xshell.silent/" title="2. Xshell close voice" class="md-nav__link">
      2. Xshell close voice
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-11-1-4" type="checkbox" id="nav-11-1-4">
    
    <label class="md-nav__link" for="nav-11-1-4">
      4. Download
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="3">
      <label class="md-nav__title" for="nav-11-1-4">
        4. Download
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../linux/tools/axel.index/" title="1. Axel" class="md-nav__link">
      1. Axel
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-11-1-5" type="checkbox" id="nav-11-1-5">
    
    <label class="md-nav__link" for="nav-11-1-5">
      5. NodePad
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="3">
      <label class="md-nav__title" for="nav-11-1-5">
        5. NodePad
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../tools/nodepad/nodepad.nppftp/" title="1. NppFTP" class="md-nav__link">
      1. NppFTP
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-11-1-6" type="checkbox" id="nav-11-1-6">
    
    <label class="md-nav__link" for="nav-11-1-6">
      6. Autom tools
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="3">
      <label class="md-nav__title" for="nav-11-1-6">
        6. Autom tools
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../tools/sshpass/sshpass.index/" title="1. sshpass" class="md-nav__link">
      1. sshpass
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../tools/pssh/pssh.index/" title="2. pssh" class="md-nav__link">
      2. pssh
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-11-2" type="checkbox" id="nav-11-2">
    
    <label class="md-nav__link" for="nav-11-2">
      2. Base
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-11-2">
        2. Base
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../linux/tutorial/linux.optimization/" title="1. System optimize" class="md-nav__link">
      1. System optimize
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../linux/tutorial/linux.path/" title="2. Directory Explain" class="md-nav__link">
      2. Directory Explain
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../linux/tutorial/linux.sequence_start/" title="3. System start order" class="md-nav__link">
      3. System start order
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-11-2-4" type="checkbox" id="nav-11-2-4">
    
    <label class="md-nav__link" for="nav-11-2-4">
      4. Raid
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="3">
      <label class="md-nav__title" for="nav-11-2-4">
        4. Raid
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../linux/raid/raid.index/" title="1. Raid introduce" class="md-nav__link">
      1. Raid introduce
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../linux/raid/raid.card/" title="2. Raid use" class="md-nav__link">
      2. Raid use
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-11-3" type="checkbox" id="nav-11-3">
    
    <label class="md-nav__link" for="nav-11-3">
      3. CMD
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-11-3">
        3. CMD
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../linux/tutorial/linux.commands/" title="1. CMD list" class="md-nav__link">
      1. CMD list
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-11-4" type="checkbox" id="nav-11-4">
    
    <label class="md-nav__link" for="nav-11-4">
      4. Service Install
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-11-4">
        4. Service Install
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../linux/server/harbor/harbor.index/" title="1. Harbor" class="md-nav__link">
      1. Harbor
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../linux/server/pppoe/pppoe.index/" title="2. PPPOE" class="md-nav__link">
      2. PPPOE
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../linux/server/sersync/sersync/" title="3. Sersync" class="md-nav__link">
      3. Sersync
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-11-5" type="checkbox" id="nav-11-5">
    
    <label class="md-nav__link" for="nav-11-5">
      5. Problem solve
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-11-5">
        5. Problem solve
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../linux/problem/inode-use-up/" title="1. Inode use up" class="md-nav__link">
      1. Inode use up
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../linux/problem/ssh_close_by_remote/" title="2. SSH Close By Remote" class="md-nav__link">
      2. SSH Close By Remote
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-12" type="checkbox" id="nav-12">
    
    <label class="md-nav__link" for="nav-12">
      Shell
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-12">
        Shell
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-12-1" type="checkbox" id="nav-12-1">
    
    <label class="md-nav__link" for="nav-12-1">
      2. Script
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-12-1">
        2. Script
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../linux/shell/system/linux.system_check/" title="1. System Scan" class="md-nav__link">
      1. System Scan
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../linux/shell/system/linux.network/" title="2. Network info" class="md-nav__link">
      2. Network info
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../linux/shell/mysql/mysql.install/" title="3. Install MySQL" class="md-nav__link">
      3. Install MySQL
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-13" type="checkbox" id="nav-13">
    
    <label class="md-nav__link" for="nav-13">
      Shell Practice
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-13">
        Shell Practice
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-13-1" type="checkbox" id="nav-13-1">
    
    <label class="md-nav__link" for="nav-13-1">
      0. 1-10
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-13-1">
        0. 1-10
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../shellPractices/1/" title="1. Test" class="md-nav__link">
      1. Test
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../shellPractices/2/" title="2. Test" class="md-nav__link">
      2. Test
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../shellPractices/3/" title="3. Test" class="md-nav__link">
      3. Test
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../shellPractices/4/" title="4. Test" class="md-nav__link">
      4. Test
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../shellPractices/5/" title="5. Test" class="md-nav__link">
      5. Test
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../shellPractices/6/" title="6. Test" class="md-nav__link">
      6. Test
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../shellPractices/7/" title="7. Test" class="md-nav__link">
      7. Test
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../shellPractices/8/" title="8. Test" class="md-nav__link">
      8. Test
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../shellPractices/9/" title="9. Test" class="md-nav__link">
      9. Test
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../shellPractices/10/" title="10. Test" class="md-nav__link">
      10. Test
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-13-2" type="checkbox" id="nav-13-2">
    
    <label class="md-nav__link" for="nav-13-2">
      1. 11-20
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-13-2">
        1. 11-20
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../shellPractices/11/" title="11. Test" class="md-nav__link">
      11. Test
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../shellPractices/12/" title="12. Test" class="md-nav__link">
      12. Test
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../shellPractices/13/" title="13. Test" class="md-nav__link">
      13. Test
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../shellPractices/14/" title="14. Test" class="md-nav__link">
      14. Test
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../shellPractices/15/" title="15. Test" class="md-nav__link">
      15. Test
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../shellPractices/16/" title="16. Test" class="md-nav__link">
      16. Test
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../shellPractices/17/" title="17. Test" class="md-nav__link">
      17. Test
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../shellPractices/18/" title="18. Test" class="md-nav__link">
      18. Test
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../shellPractices/19/" title="19. Test" class="md-nav__link">
      19. Test
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../shellPractices/20/" title="20. Test" class="md-nav__link">
      20. Test
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-13-3" type="checkbox" id="nav-13-3">
    
    <label class="md-nav__link" for="nav-13-3">
      2. 21-30
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-13-3">
        2. 21-30
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../shellPractices/21/" title="21. Test" class="md-nav__link">
      21. Test
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../shellPractices/22/" title="22. Test" class="md-nav__link">
      22. Test
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../shellPractices/23/" title="23. Test" class="md-nav__link">
      23. Test
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../shellPractices/24/" title="24. Test" class="md-nav__link">
      24. Test
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../shellPractices/25/" title="25. Test" class="md-nav__link">
      25. Test
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../shellPractices/26/" title="26. Test" class="md-nav__link">
      26. Test
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../shellPractices/27/" title="27. Test" class="md-nav__link">
      27. Test
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../shellPractices/28/" title="28. Test" class="md-nav__link">
      28. Test
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../shellPractices/29/" title="29. Test" class="md-nav__link">
      29. Test
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../shellPractices/30/" title="30. Test" class="md-nav__link">
      30. Test
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-13-4" type="checkbox" id="nav-13-4">
    
    <label class="md-nav__link" for="nav-13-4">
      3. 31-40
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-13-4">
        3. 31-40
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../shellPractices/31/" title="31. Test" class="md-nav__link">
      31. Test
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../shellPractices/32/" title="32. Test" class="md-nav__link">
      32. Test
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../shellPractices/33/" title="33. Test" class="md-nav__link">
      33. Test
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../shellPractices/34/" title="34. Test" class="md-nav__link">
      34. Test
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../shellPractices/35/" title="35. Test" class="md-nav__link">
      35. Test
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../shellPractices/36/" title="36. Test" class="md-nav__link">
      36. Test
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../shellPractices/37/" title="37. Test" class="md-nav__link">
      37. Test
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../shellPractices/38/" title="38. Test" class="md-nav__link">
      38. Test
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../shellPractices/39/" title="39. Test" class="md-nav__link">
      39. Test
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../shellPractices/40/" title="40. Test" class="md-nav__link">
      40. Test
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-13-5" type="checkbox" id="nav-13-5">
    
    <label class="md-nav__link" for="nav-13-5">
      4. 41-50
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-13-5">
        4. 41-50
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../shellPractices/41/" title="41. Test" class="md-nav__link">
      41. Test
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../shellPractices/42/" title="42. Test" class="md-nav__link">
      42. Test
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../shellPractices/43/" title="43. Test" class="md-nav__link">
      43. Test
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../shellPractices/44/" title="44. Test" class="md-nav__link">
      44. Test
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../shellPractices/45/" title="45. Test" class="md-nav__link">
      45. Test
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../shellPractices/46/" title="46. Test" class="md-nav__link">
      46. Test
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../shellPractices/47/" title="47. Test" class="md-nav__link">
      47. Test
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../shellPractices/48/" title="48. Test" class="md-nav__link">
      48. Test
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../shellPractices/49/" title="49. Test" class="md-nav__link">
      49. Test
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../shellPractices/50/" title="50. Test" class="md-nav__link">
      50. Test
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-13-6" type="checkbox" id="nav-13-6">
    
    <label class="md-nav__link" for="nav-13-6">
      5. 51-60
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-13-6">
        5. 51-60
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../shellPractices/51/" title="51. Test" class="md-nav__link">
      51. Test
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../shellPractices/52/" title="52. Test" class="md-nav__link">
      52. Test
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../shellPractices/53/" title="53. Test" class="md-nav__link">
      53. Test
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../shellPractices/54/" title="54. Test" class="md-nav__link">
      54. Test
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../shellPractices/55/" title="55. Test" class="md-nav__link">
      55. Test
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../shellPractices/56/" title="56. Test" class="md-nav__link">
      56. Test
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../shellPractices/57/" title="57. Test" class="md-nav__link">
      57. Test
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../shellPractices/58/" title="58. Test" class="md-nav__link">
      58. Test
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../shellPractices/59/" title="59. Test" class="md-nav__link">
      59. Test
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../shellPractices/46/" title="60. Test" class="md-nav__link">
      60. Test
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-13-7" type="checkbox" id="nav-13-7">
    
    <label class="md-nav__link" for="nav-13-7">
      6. 61-70
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-13-7">
        6. 61-70
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../shellPractices/61/" title="61. Test" class="md-nav__link">
      61. Test
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../shellPractices/62/" title="62. Test" class="md-nav__link">
      62. Test
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../shellPractices/63/" title="63. Test" class="md-nav__link">
      63. Test
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../shellPractices/64/" title="64. Test" class="md-nav__link">
      64. Test
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../shellPractices/65/" title="65. Test" class="md-nav__link">
      65. Test
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../shellPractices/66/" title="66. Test" class="md-nav__link">
      66. Test
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../shellPractices/67/" title="67. Test" class="md-nav__link">
      67. Test
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../shellPractices/68/" title="68. Test" class="md-nav__link">
      68. Test
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../shellPractices/69/" title="69. Test" class="md-nav__link">
      69. Test
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../shellPractices/70/" title="70. Test" class="md-nav__link">
      70. Test
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-13-8" type="checkbox" id="nav-13-8">
    
    <label class="md-nav__link" for="nav-13-8">
      7. 71-80
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-13-8">
        7. 71-80
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../shellPractices/71/" title="71. Test" class="md-nav__link">
      71. Test
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../shellPractices/72/" title="72. Test" class="md-nav__link">
      72. Test
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../shellPractices/73/" title="73. Test" class="md-nav__link">
      73. Test
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../shellPractices/74/" title="74. Test" class="md-nav__link">
      74. Test
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../shellPractices/75/" title="75. Test" class="md-nav__link">
      75. Test
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../shellPractices/76/" title="76. Test" class="md-nav__link">
      76. Test
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../shellPractices/77/" title="77. Test" class="md-nav__link">
      77. Test
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../shellPractices/78/" title="78. Test" class="md-nav__link">
      78. Test
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../shellPractices/79/" title="79. Test" class="md-nav__link">
      79. Test
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../shellPractices/80/" title="80. Test" class="md-nav__link">
      80. Test
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-13-9" type="checkbox" id="nav-13-9">
    
    <label class="md-nav__link" for="nav-13-9">
      8. 81-90
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-13-9">
        8. 81-90
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../shellPractices/81/" title="81. Test" class="md-nav__link">
      81. Test
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../shellPractices/82/" title="82. Test" class="md-nav__link">
      82. Test
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../shellPractices/83/" title="83. Test" class="md-nav__link">
      83. Test
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../shellPractices/84/" title="84. Test" class="md-nav__link">
      84. Test
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../shellPractices/85/" title="85. Test" class="md-nav__link">
      85. Test
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../shellPractices/86/" title="86. Test" class="md-nav__link">
      86. Test
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../shellPractices/87/" title="87. Test" class="md-nav__link">
      87. Test
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../shellPractices/88/" title="88. Test" class="md-nav__link">
      88. Test
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../shellPractices/89/" title="89. Test" class="md-nav__link">
      89. Test
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../shellPractices/90/" title="90. Test" class="md-nav__link">
      90. Test
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-13-10" type="checkbox" id="nav-13-10">
    
    <label class="md-nav__link" for="nav-13-10">
      9. 91-100
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-13-10">
        9. 91-100
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../shellPractices/91/" title="91. Test" class="md-nav__link">
      91. Test
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../shellPractices/92/" title="92. Test" class="md-nav__link">
      92. Test
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../shellPractices/93/" title="93. Test" class="md-nav__link">
      93. Test
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../shellPractices/94/" title="94. Test" class="md-nav__link">
      94. Test
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../shellPractices/95/" title="95. Test" class="md-nav__link">
      95. Test
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../shellPractices/96/" title="96. Test" class="md-nav__link">
      96. Test
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../shellPractices/97/" title="97. Test" class="md-nav__link">
      97. Test
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../shellPractices/98/" title="98. Test" class="md-nav__link">
      98. Test
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../shellPractices/99/" title="99. Test" class="md-nav__link">
      99. Test
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../shellPractices/100/" title="100. Test" class="md-nav__link">
      100. Test
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../shellPractices/1.log.zip" title="10. source" class="md-nav__link">
      10. source
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-14" type="checkbox" id="nav-14">
    
    <label class="md-nav__link" for="nav-14">
      Container
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-14">
        Container
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-14-1" type="checkbox" id="nav-14-1">
    
    <label class="md-nav__link" for="nav-14-1">
      1. Docker
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-14-1">
        1. Docker
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../container/docker/docker.index/" title="1. Docker install" class="md-nav__link">
      1. Docker install
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../container/docker/docker.command/" title="2. Docker cmd" class="md-nav__link">
      2. Docker cmd
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../container/docker/docker.container/" title="3. Docker container" class="md-nav__link">
      3. Docker container
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../container/docker/docker.data_volume/" title="4. Docker data volume" class="md-nav__link">
      4. Docker data volume
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../container/docker/docker.container_network/" title="5. Docker network" class="md-nav__link">
      5. Docker network
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../container/docker/docker.lnmp/" title="6. Dockerfile" class="md-nav__link">
      6. Dockerfile
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../container/docker/docker.harbor/" title="7. Docker Harbor" class="md-nav__link">
      7. Docker Harbor
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../container/docker/docker.ci_cd/" title="8. Docker ci_cd" class="md-nav__link">
      8. Docker ci_cd
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-14-2" type="checkbox" id="nav-14-2">
    
    <label class="md-nav__link" for="nav-14-2">
      2. Kubernetes
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-14-2">
        2. Kubernetes
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../container/k8s/k8s.index/" title="1. K8S introduce" class="md-nav__link">
      1. K8S introduce
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../container/k8s/k8s.machine/" title="2. K8S machine plan" class="md-nav__link">
      2. K8S machine plan
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../container/k8s/k8s.etcd_info/" title="3. K8S etcd" class="md-nav__link">
      3. K8S etcd
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../container/k8s/k8s.flannel_info/" title="4. K8S flannel" class="md-nav__link">
      4. K8S flannel
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../container/k8s/k8s.master/" title="5. K8S master" class="md-nav__link">
      5. K8S master
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../container/k8s/k8s.node/" title="6. K8S node" class="md-nav__link">
      6. K8S node
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../container/k8s/k8s.add_master/" title="7. K8S new master" class="md-nav__link">
      7. K8S new master
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../container/k8s/k8s.slb_ha/" title="8. K8S slb_ha" class="md-nav__link">
      8. K8S slb_ha
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../container/k8s/k8s.pod/" title="9. K8S pod" class="md-nav__link">
      9. K8S pod
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../container/k8s/k8s.controller/" title="10. K8S controllers" class="md-nav__link">
      10. K8S controllers
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../container/k8s/k8s.coredns/" title="11. K8S coredns" class="md-nav__link">
      11. K8S coredns
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../container/k8s/k8s.ingress/" title="12. K8S ingress" class="md-nav__link">
      12. K8S ingress
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../container/k8s/k8s.rbac/" title="13. K8S rbac" class="md-nav__link">
      13. K8S rbac
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../container/k8s/k8s.storage/" title="14. K8S storage" class="md-nav__link">
      14. K8S storage
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../container/k8s/k8s.statefulset/" title="15. K8S statefulset" class="md-nav__link">
      15. K8S statefulset
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../container/k8s/k8s.cases/" title="16. K8S cases" class="md-nav__link">
      16. K8S cases
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-15" type="checkbox" id="nav-15">
    
    <label class="md-nav__link" for="nav-15">
      Tomcat
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-15">
        Tomcat
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../linux/server/certificate/tomcat.index/" title="1. Tomcat certificate" class="md-nav__link">
      1. Tomcat certificate
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-16" type="checkbox" id="nav-16">
    
    <label class="md-nav__link" for="nav-16">
      Nginx
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-16">
        Nginx
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../nginx/nginx.index/" title="1. Nginx introduce" class="md-nav__link">
      1. Nginx introduce
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../nginx/nginx.conf/" title="2. Nginx configration" class="md-nav__link">
      2. Nginx configration
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../nginx/nginx.virtual_hosts/" title="3. Nginx virtual machine" class="md-nav__link">
      3. Nginx virtual machine
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../nginx/nginx.log/" title="4. Nginx 7ogs" class="md-nav__link">
      4. Nginx 7ogs
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../nginx/nginx.nti_theft_chain/" title="5. Nginx anti link" class="md-nav__link">
      5. Nginx anti link
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../nginx/nginx.other/" title="6. Nginx normal config" class="md-nav__link">
      6. Nginx normal config
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../nginx/nginx.optimization/" title="7. Nginx optimization" class="md-nav__link">
      7. Nginx optimization
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../nginx/nginx.hash/" title="8. Nginx hash" class="md-nav__link">
      8. Nginx hash
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../nginx/nginx.location/" title="9. Nginx location" class="md-nav__link">
      9. Nginx location
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../nginx/nginx.rewrite/" title="10. Nginx rewrite" class="md-nav__link">
      10. Nginx rewrite
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../nginx/nginx.slb/" title="11. Nginx slb" class="md-nav__link">
      11. Nginx slb
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../nginx/nginx.http2/" title="12. Nginx http2" class="md-nav__link">
      12. Nginx http2
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../nginx/nginx_password/" title="13. Nginx password" class="md-nav__link">
      13. Nginx password
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-17" type="checkbox" id="nav-17">
    
    <label class="md-nav__link" for="nav-17">
      Nginx New
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-17">
        Nginx New
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../nginxNew/1/" title="1. 学习大纲" class="md-nav__link">
      1. 学习大纲
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-17-2" type="checkbox" id="nav-17-2">
    
    <label class="md-nav__link" for="nav-17-2">
      2. 第二章
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-17-2">
        2. 第二章
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../nginxNew/2z/nginx.repo" title="1. 配置源" class="md-nav__link">
      1. 配置源
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-17-3" type="checkbox" id="nav-17-3">
    
    <label class="md-nav__link" for="nav-17-3">
      3. 第三章
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-17-3">
        3. 第三章
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../nginxNew/3z/events/" title="1. events" class="md-nav__link">
      1. events
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../nginxNew/3z/global/" title="2. global" class="md-nav__link">
      2. global
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../nginxNew/3z/http/" title="3. http" class="md-nav__link">
      3. http
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../nginxNew/3z/server/" title="4. server" class="md-nav__link">
      4. server
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-17-4" type="checkbox" id="nav-17-4">
    
    <label class="md-nav__link" for="nav-17-4">
      4. 第四章
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-17-4">
        4. 第四章
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../nginxNew/4z/event/" title="1. event" class="md-nav__link">
      1. event
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../nginxNew/4z/IO/" title="2. IO" class="md-nav__link">
      2. IO
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../nginxNew/4z/jg/" title="3. jg" class="md-nav__link">
      3. jg
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../nginxNew/4z/module/" title="4. module" class="md-nav__link">
      4. module
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../nginxNew/4z/request_process/" title="5. request_process" class="md-nav__link">
      5. request_process
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-17-5" type="checkbox" id="nav-17-5">
    
    <label class="md-nav__link" for="nav-17-5">
      5. access
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-17-5">
        5. access
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../nginxNew/access/auth/" title="1. auth" class="md-nav__link">
      1. auth
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../nginxNew/access/deny_allow/" title="2. deny_allow" class="md-nav__link">
      2. deny_allow
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../nginxNew/access/document_uri/" title="3. document_uri" class="md-nav__link">
      3. document_uri
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../nginxNew/access/limit/" title="4. limit" class="md-nav__link">
      4. limit
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../nginxNew/access/location/" title="5. location" class="md-nav__link">
      5. location
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../nginxNew/access/referer/" title="6. referer" class="md-nav__link">
      6. referer
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../nginxNew/access/request_uri/" title="7. request_uri" class="md-nav__link">
      7. request_uri
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../nginxNew/access/user_agent/" title="8. user_agent" class="md-nav__link">
      8. user_agent
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-17-6" type="checkbox" id="nav-17-6">
    
    <label class="md-nav__link" for="nav-17-6">
      6. http
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-17-6">
        6. http
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../nginxNew/http/version/" title="1. version" class="md-nav__link">
      1. version
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../nginxNew/http/http/" title="2. http" class="md-nav__link">
      2. http
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-17-7" type="checkbox" id="nav-17-7">
    
    <label class="md-nav__link" for="nav-17-7">
      7. java
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-17-7">
        7. java
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../nginxNew/java/nginx_tomcat/" title="1. nginx_tomcat" class="md-nav__link">
      1. nginx_tomcat
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-17-8" type="checkbox" id="nav-17-8">
    
    <label class="md-nav__link" for="nav-17-8">
      8. lnmp
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-17-8">
        8. lnmp
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../nginxNew/lnmp/nginx_php/" title="1. nginx_php" class="md-nav__link">
      1. nginx_php
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-17-9" type="checkbox" id="nav-17-9">
    
    <label class="md-nav__link" for="nav-17-9">
      9. location
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-17-9">
        9. location
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../nginxNew/location/priority/" title="1. priority" class="md-nav__link">
      1. priority
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../nginxNew/location/ruler/" title="2. ruler" class="md-nav__link">
      2. ruler
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-17-10" type="checkbox" id="nav-17-10">
    
    <label class="md-nav__link" for="nav-17-10">
      10. log
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-17-10">
        10. log
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../nginxNew/log/acclog/" title="1. acclog" class="md-nav__link">
      1. acclog
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../nginxNew/log/error/" title="2. error" class="md-nav__link">
      2. error
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../nginxNew/log/filter/" title="3. filter" class="md-nav__link">
      3. filter
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../nginxNew/log/format/" title="4. format" class="md-nav__link">
      4. format
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../nginxNew/log/rotate/" title="5. rotate" class="md-nav__link">
      5. rotate
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-17-11" type="checkbox" id="nav-17-11">
    
    <label class="md-nav__link" for="nav-17-11">
      11. mon
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-17-11">
        11. mon
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../nginxNew/mon/stat/" title="1.0" class="md-nav__link">
      1.0
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-17-12" type="checkbox" id="nav-17-12">
    
    <label class="md-nav__link" for="nav-17-12">
      12. optimize
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-17-12">
        12. optimize
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../nginxNew/optimize/linux_kernel/" title="1. linux_kernel" class="md-nav__link">
      1. linux_kernel
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../nginxNew/optimize/nginx_opt/" title="2. nginx_opt" class="md-nav__link">
      2. nginx_opt
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-17-13" type="checkbox" id="nav-17-13">
    
    <label class="md-nav__link" for="nav-17-13">
      13. proxy
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-17-13">
        13. proxy
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../nginxNew/proxy/bu_ca/" title="1. bu_ca" class="md-nav__link">
      1. bu_ca
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../nginxNew/proxy/f_proxy/" title="2. f_proxy" class="md-nav__link">
      2. f_proxy
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../nginxNew/proxy/z_proxy/" title="3. z_proxy" class="md-nav__link">
      3. z_proxy
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../nginxNew/proxy/pic/" title="4. pic" class="md-nav__link">
      4. pic
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../nginxNew/proxy/lb/" title="5. lb" class="md-nav__link">
      5. lb
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-17-14" type="checkbox" id="nav-17-14">
    
    <label class="md-nav__link" for="nav-17-14">
      14. rewrite
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-17-14">
        14. rewrite
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../nginxNew/rewrite/variable/" title="1. variable" class="md-nav__link">
      1. variable
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../nginxNew/rewrite/if/" title="2. if" class="md-nav__link">
      2. if
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../nginxNew/rewrite/break/" title="3. break" class="md-nav__link">
      3. break
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../nginxNew/rewrite/return/" title="4. return" class="md-nav__link">
      4. return
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../nginxNew/rewrite/rewrite_ruler/" title="5. rewrite_ruler" class="md-nav__link">
      5. rewrite_ruler
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../nginxNew/rewrite/example/" title="6. example" class="md-nav__link">
      6. example
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-17-15" type="checkbox" id="nav-17-15">
    
    <label class="md-nav__link" for="nav-17-15">
      15. ssl
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-17-15">
        15. ssl
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../nginxNew/ssl/ssl/" title="1. ssl" class="md-nav__link">
      1. ssl
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../nginxNew/ssl/ca/" title="2. ca" class="md-nav__link">
      2. ca
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../nginxNew/ssl/key/" title="3. key" class="md-nav__link">
      3. key
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../nginxNew/ssl/nginx/" title="4. nginx" class="md-nav__link">
      4. nginx
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-18" type="checkbox" id="nav-18" checked>
    
    <label class="md-nav__link" for="nav-18">
      Nosql
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-18">
        Nosql
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-18-1" type="checkbox" id="nav-18-1" checked>
    
    <label class="md-nav__link" for="nav-18-1">
      1. Monogo8B
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-18-1">
        1. Monogo8B
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../mongo.index/" title="1. Mono8oDB introduce" class="md-nav__link">
      1. Mono8oDB introduce
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../mongo.databases/" title="2. MonogoDB database" class="md-nav__link">
      2. MonogoDB database
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../mongo.collection/" title="3. MonogoDB collection" class="md-nav__link">
      3. MonogoDB collection
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../mongo.doc/" title="4. MonogoDB document" class="md-nav__link">
      4. MonogoDB document
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../mongo.conditional_query/" title="5. MonogoDB query" class="md-nav__link">
      5. MonogoDB query
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../mongo.fuzzy_enquiry/" title="6. MonogoDB fuzzy qurry" class="md-nav__link">
      6. MonogoDB fuzzy qurry
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../mongo.type/" title="7. MonogoDB $type" class="md-nav__link">
      7. MonogoDB $type
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../mongo.limit_skip/" title="8. MonogoDB ls" class="md-nav__link">
      8. MonogoDB ls
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../mongo.sort/" title="9. MonogoDB sort" class="md-nav__link">
      9. MonogoDB sort
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../mongo.backup_recovery/" title="10. MonogoDB backup-recovery" class="md-nav__link">
      10. MonogoDB backup-recovery
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../mongo.monitor/" title="11. MonogoDB monitor" class="md-nav__link">
      11. MonogoDB monitor
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        12. Mon9goDB replication
      </label>
    
    <a href="./" title="12. Mon9goDB replication" class="md-nav__link md-nav__link--active">
      12. Mon9goDB replication
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
  
    <label class="md-nav__title" for="__toc">目录</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#1" title="1. 介绍" class="md-nav__link">
    1. 介绍
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2" title="2. 原理" class="md-nav__link">
    2. 原理
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#21" title="2.1 自动切换" class="md-nav__link">
    2.1 自动切换
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3" title="3. 部署搭建" class="md-nav__link">
    3. 部署搭建
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#31" title="3.1 环境准备" class="md-nav__link">
    3.1 环境准备
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#32" title="3.2 安装" class="md-nav__link">
    3.2 安装
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#33" title="3.3 配置" class="md-nav__link">
    3.3 配置
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#331" title="3.3.1 配置文件" class="md-nav__link">
    3.3.1 配置文件
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#332" title="3.3.2 初始化" class="md-nav__link">
    3.3.2 初始化
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#333" title="3.3.3 其他命令" class="md-nav__link">
    3.3.3 其他命令
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#34" title="3.4 测试" class="md-nav__link">
    3.4 测试
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#341" title="3.4.1 简单测试" class="md-nav__link">
    3.4.1 简单测试
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#343" title="3.4.3 副本测试" class="md-nav__link">
    3.4.3 副本测试
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#343_1" title="3.4.3 高可用测试" class="md-nav__link">
    3.4.3 高可用测试
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#4" title="4. 其他测试" class="md-nav__link">
    4. 其他测试
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#41" title="4.1 删除" class="md-nav__link">
    4.1 删除
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#42" title="4.2 添加" class="md-nav__link">
    4.2 添加
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#43" title="4.3 查看复制的情况" class="md-nav__link">
    4.3 查看复制的情况
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#44" title="4.4 查看副本集配置" class="md-nav__link">
    4.4 查看副本集配置
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#45" title="4.5 注意" class="md-nav__link">
    4.5 注意
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#5" title="5. 应用" class="md-nav__link">
    5. 应用
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#51" title="5.1 手动切换" class="md-nav__link">
    5.1 手动切换
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#52" title="5.2 添加备份节点" class="md-nav__link">
    5.2 添加备份节点
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#53" title="5.3 添加延时节点" class="md-nav__link">
    5.3 添加延时节点
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#531" title="5.3.1 操作" class="md-nav__link">
    5.3.1 操作
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#532" title="5.3.2 测试" class="md-nav__link">
    5.3.2 测试
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#54" title="5.4 读写分离" class="md-nav__link">
    5.4 读写分离
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../mongo.shard_info/" title="13. MonogoDB split replication" class="md-nav__link">
      13. MonogoDB split replication
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../mongo.shard_replicat/" title="14. MonogoDB split rep use" class="md-nav__link">
      14. MonogoDB split rep use
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-18-2" type="checkbox" id="nav-18-2">
    
    <label class="md-nav__link" for="nav-18-2">
      2. Redis
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-18-2">
        2. Redis
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../redis/redis.index/" title="1. Redis introduce" class="md-nav__link">
      1. Redis introduce
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../redis/redis.install/" title="2. Redis install" class="md-nav__link">
      2. Redis install
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../redis/redis.auth/" title="3. Redis auth" class="md-nav__link">
      3. Redis auth
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../redis/redis.k_v/" title="4. Redis key" class="md-nav__link">
      4. Redis key
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../redis/redis.publish/" title="5. Redis publish" class="md-nav__link">
      5. Redis publish
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../redis/redis.arrairs/" title="6. Redis jobs" class="md-nav__link">
      6. Redis jobs
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../redis/redis.store/" title="7. Redis storages" class="md-nav__link">
      7. Redis storages
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../redis/redis.save/" title="8. Redis backup-recovery" class="md-nav__link">
      8. Redis backup-recovery
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../redis/redis.sentinel_cluster/" title="9. Redis sentinel_cluster" class="md-nav__link">
      9. Redis sentinel_cluster
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../redis/redis.master-slave/" title="10. Redis master-slave" class="md-nav__link">
      10. Redis master-slave
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../redis/redis.sentinel/" title="11. Redis sentinel" class="md-nav__link">
      11. Redis sentinel
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../redis/redis.cluster/" title="12. Redis cluster" class="md-nav__link">
      12. Redis cluster
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../redis/redis.cache_policy/" title="13. Redis cache_policy" class="md-nav__link">
      13. Redis cache_policy
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../redis/redis.breakdown/" title="14. Redis breakdown" class="md-nav__link">
      14. Redis breakdown
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../redis/redis.avalanche/" title="15. Redis avalanche" class="md-nav__link">
      15. Redis avalanche
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-18-3" type="checkbox" id="nav-18-3">
    
    <label class="md-nav__link" for="nav-18-3">
      3. Memcached
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-18-3">
        3. Memcached
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../memcached/memcached.index/" title="1. Memcached" class="md-nav__link">
      1. Memcached
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-19" type="checkbox" id="nav-19">
    
    <label class="md-nav__link" for="nav-19">
      MySQL
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-19">
        MySQL
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-19-1" type="checkbox" id="nav-19-1">
    
    <label class="md-nav__link" for="nav-19-1">
      1. MySQL Base use
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-19-1">
        1. MySQL Base use
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../mysql/mysql.index/" title="1. MySQL introduce" class="md-nav__link">
      1. MySQL introduce
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../mysql/mysql.info/" title="2. MySQL install" class="md-nav__link">
      2. MySQL install
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../mysql/mysql.conn/" title="3. MySQL link" class="md-nav__link">
      3. MySQL link
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../mysql/mysql.database/" title="4. MySQL lib" class="md-nav__link">
      4. MySQL lib
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../mysql/mysql.table/" title="5. MySQL table" class="md-nav__link">
      5. MySQL table
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../mysql/mysql.select/" title="6. SQL SELECT" class="md-nav__link">
      6. SQL SELECT
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../mysql/mysql.where/" title="7. SQL WHERE" class="md-nav__link">
      7. SQL WHERE
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../mysql/mysql.update/" title="8. SQL UPDATE" class="md-nav__link">
      8. SQL UPDATE
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../mysql/mysql.delete/" title="9. SQL DELETE" class="md-nav__link">
      9. SQL DELETE
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../mysql/mysql.like/" title="10. SQL LIKE" class="md-nav__link">
      10. SQL LIKE
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../mysql/mysql.distinct/" title="11. SQL DISTINCT" class="md-nav__link">
      11. SQL DISTINCT
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../mysql/mysql.limit/" title="12. SQL LIMIT" class="md-nav__link">
      12. SQL LIMIT
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../mysql/mysql.and_or/" title="13. SQL AND_OR" class="md-nav__link">
      13. SQL AND_OR
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../mysql/mysql.orderby/" title="14. SQL ORDER" class="md-nav__link">
      14. SQL ORDER
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../mysql/mysql.insert/" title="15. SQL INSERT" class="md-nav__link">
      15. SQL INSERT
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../mysql/mysql.desc/" title="16. SQL DESC" class="md-nav__link">
      16. SQL DESC
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../mysql/mysql.in/" title="17. SQL IN" class="md-nav__link">
      17. SQL IN
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../mysql/mysql.between/" title="18. SQL BETWEEN" class="md-nav__link">
      18. SQL BETWEEN
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../mysql/mysql.alias/" title="19. SQL ALIAS" class="md-nav__link">
      19. SQL ALIAS
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../mysql/mysql.grant/" title="20. SQL GRANT" class="md-nav__link">
      20. SQL GRANT
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../mysql/mysql.alter/" title="21. SQL ALTER" class="md-nav__link">
      21. SQL ALTER
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-19-2" type="checkbox" id="nav-19-2">
    
    <label class="md-nav__link" for="nav-19-2">
      2. MySQL Middle use
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-19-2">
        2. MySQL Middle use
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../mysql/mysql.pk/" title="1. SQL PK" class="md-nav__link">
      1. SQL PK
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../mysql/mysql.increment/" title="2. SQL INCREMENT" class="md-nav__link">
      2. SQL INCREMENT
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../mysql/mysql.transaction/" title="3. SQL jobs" class="md-nav__link">
      3. SQL jobs
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../mysql/mysql.null/" title="4. NULL" class="md-nav__link">
      4. NULL
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../mysql/mysql.regexp/" title="5. Regular" class="md-nav__link">
      5. Regular
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../mysql/mysql.multi_table_query/" title="6. Multi Table Queries" class="md-nav__link">
      6. Multi Table Queries
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-19-3" type="checkbox" id="nav-19-3">
    
    <label class="md-nav__link" for="nav-19-3">
      3. MySQL disaster recovery
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-19-3">
        3. MySQL disaster recovery
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../mysql/mysql.mysqldump/" title="1. mysqldump parameter" class="md-nav__link">
      1. mysqldump parameter
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../mysql/mysql.mysqldump_case/" title="2. mysqldump script" class="md-nav__link">
      2. mysqldump script
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../linux/server/xtrabackup/xtrabackup.index/" title="3. xtrabackup" class="md-nav__link">
      3. xtrabackup
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../mysql/mysql.restore_data/" title="4. binlog backup data" class="md-nav__link">
      4. binlog backup data
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-19-4" type="checkbox" id="nav-19-4">
    
    <label class="md-nav__link" for="nav-19-4">
      4. MySQL Master-Slave
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-19-4">
        4. MySQL Master-Slave
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../mysql/mysql.master-slave/" title="1. Master-Slave" class="md-nav__link">
      1. Master-Slave
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../mysql/mysql.master-master/" title="2. Master-Master" class="md-nav__link">
      2. Master-Master
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-19-5" type="checkbox" id="nav-19-5">
    
    <label class="md-nav__link" for="nav-19-5">
      5. MySQL OTHER
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-19-5">
        5. MySQL OTHER
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../mysql/mysql.practice1/" title="1. MySQL test" class="md-nav__link">
      1. MySQL test
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../mysql/mysql.mysqlcnf/" title="2. Config" class="md-nav__link">
      2. Config
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../mysql/mysql.increment_offset/" title="3. Increment_offset" class="md-nav__link">
      3. Increment_offset
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../mysql/mysql.delete_truncate_drop/" title="4. Delte table" class="md-nav__link">
      4. Delte table
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../mysql/mysql.binlog/" title="5. Binlog introduce" class="md-nav__link">
      5. Binlog introduce
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../mysql/mysql.integrity_constraint/" title="6. Integrity_constraint" class="md-nav__link">
      6. Integrity_constraint
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../mysql/mysql.copy_table/" title="7. Table copy" class="md-nav__link">
      7. Table copy
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../mysql/mysql.storage_engine/" title="8. Storage_engine" class="md-nav__link">
      8. Storage_engine
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../mysql/mysql.user/" title="9. User" class="md-nav__link">
      9. User
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../mysql/mysql.affairs/" title="10. Jobs" class="md-nav__link">
      10. Jobs
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-20" type="checkbox" id="nav-20">
    
    <label class="md-nav__link" for="nav-20">
      Hadoop
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-20">
        Hadoop
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-20-1" type="checkbox" id="nav-20-1">
    
    <label class="md-nav__link" for="nav-20-1">
      CDH
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-20-1">
        CDH
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../hadoop/CDH/cdh.index/" title="1. CDH Introduce" class="md-nav__link">
      1. CDH Introduce
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../hadoop/CDH/cdh.deploy/" title="2. CDH Deploy" class="md-nav__link">
      2. CDH Deploy
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../hadoop/CDH/cdh.namenode_ha/" title="3. NameNode HA" class="md-nav__link">
      3. NameNode HA
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-20-2" type="checkbox" id="nav-20-2">
    
    <label class="md-nav__link" for="nav-20-2">
      HDFS
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-20-2">
        HDFS
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../hadoop/CDH/cdh.hdfs_info/" title="1. HDFS Introduce" class="md-nav__link">
      1. HDFS Introduce
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../hadoop/CDH/cdh.hdfs_shell/" title="2. HDFS shell" class="md-nav__link">
      2. HDFS shell
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../hadoop/CDH/cdh.secondary_namenode/" title="3. secondary_namenode" class="md-nav__link">
      3. secondary_namenode
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-20-3" type="checkbox" id="nav-20-3">
    
    <label class="md-nav__link" for="nav-20-3">
      Hive
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-20-3">
        Hive
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../hadoop/CDH/cdh.hive/" title="1. Hive Introduce" class="md-nav__link">
      1. Hive Introduce
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-20-4" type="checkbox" id="nav-20-4">
    
    <label class="md-nav__link" for="nav-20-4">
      DStorage
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-20-4">
        DStorage
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../linux/distributed_storage/distributed_storage.info/" title="Contrast" class="md-nav__link">
      Contrast
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-21" type="checkbox" id="nav-21">
    
    <label class="md-nav__link" for="nav-21">
      Zookeeper
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-21">
        Zookeeper
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../zookeeper/zookeeper-cluster-install/" title="1. Zookeeper install" class="md-nav__link">
      1. Zookeeper install
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../zookeeper/zookeeper-use/" title="2. Zookeeper use" class="md-nav__link">
      2. Zookeeper use
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../zookeeper/zookeeper-install-kafka/" title="3. Zookeeper kafka" class="md-nav__link">
      3. Zookeeper kafka
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-22" type="checkbox" id="nav-22">
    
    <label class="md-nav__link" for="nav-22">
      SVN
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-22">
        SVN
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-22-1" type="checkbox" id="nav-22-1">
    
    <label class="md-nav__link" for="nav-22-1">
      1. Git
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-22-1">
        1. Git
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../svn/git/git.index/" title="1. Git base" class="md-nav__link">
      1. Git base
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../svn/git/git.rollback/" title="2. Git roll back" class="md-nav__link">
      2. Git roll back
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../svn/git/git.branch/" title="3. Git branch" class="md-nav__link">
      3. Git branch
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../svn/git/git.label/" title="4. Git laber" class="md-nav__link">
      4. Git laber
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../svn/git/git.standard/" title="5. Git manage branch" class="md-nav__link">
      5. Git manage branch
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../svn/git/git.gui/" title="6. Git GUI" class="md-nav__link">
      6. Git GUI
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-22-2" type="checkbox" id="nav-22-2">
    
    <label class="md-nav__link" for="nav-22-2">
      2. Gitlab
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-22-2">
        2. Gitlab
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../svn/gitlab/gitlab.install/" title="1. Gitlab install" class="md-nav__link">
      1. Gitlab install
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../svn/gitlab/gitlab.cmd/" title="2. Gitlab config" class="md-nav__link">
      2. Gitlab config
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../svn/gitlab/gitlab.close_register/" title="3. Close user register" class="md-nav__link">
      3. Close user register
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../svn/gitlab/gitlab.set_root_pwd/" title="4. Find root passwd" class="md-nav__link">
      4. Find root passwd
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-23" type="checkbox" id="nav-23">
    
    <label class="md-nav__link" for="nav-23">
      Mkdocs
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-23">
        Mkdocs
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-23-1" type="checkbox" id="nav-23-1">
    
    <label class="md-nav__link" for="nav-23-1">
      1. install
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-23-1">
        1. install
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../install/local/" title="1. Local buils" class="md-nav__link">
      1. Local buils
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../install/github-pages/" title="2. Deploy to GitHub Pages" class="md-nav__link">
      2. Deploy to GitHub Pages
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../install/http-server/" title="3. Deploy to HTTP Server" class="md-nav__link">
      3. Deploy to HTTP Server
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-23-2" type="checkbox" id="nav-23-2">
    
    <label class="md-nav__link" for="nav-23-2">
      2. grammar
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-23-2">
        2. grammar
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../syntax/main/" title="1. 语法总览" class="md-nav__link">
      1. 语法总览
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../syntax/headline/" title="2. 标题" class="md-nav__link">
      2. 标题
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../syntax/paragraph/" title="3. 段落" class="md-nav__link">
      3. 段落
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../syntax/quote/" title="4. 引用" class="md-nav__link">
      4. 引用
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../syntax/table/" title="5. 表格" class="md-nav__link">
      5. 表格
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-23-2-6" type="checkbox" id="nav-23-2-6">
    
    <label class="md-nav__link" for="nav-23-2-6">
      6. 代码
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="3">
      <label class="md-nav__title" for="nav-23-2-6">
        6. 代码
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../syntax/code_inline/" title="6.1. 行内" class="md-nav__link">
      6.1. 行内
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../syntax/code_block/" title="6.2. 区块" class="md-nav__link">
      6.2. 区块
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../syntax/code_highlight/" title="6.3. 高亮" class="md-nav__link">
      6.3. 高亮
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-23-2-7" type="checkbox" id="nav-23-2-7">
    
    <label class="md-nav__link" for="nav-23-2-7">
      7. 字体样式
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="3">
      <label class="md-nav__title" for="nav-23-2-7">
        7. 字体样式
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../syntax/font_stress/" title="7.1. 斜体,粗体,粗斜体" class="md-nav__link">
      7.1. 斜体,粗体,粗斜体
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../syntax/font_updown/" title="7.2. 上标,下标" class="md-nav__link">
      7.2. 上标,下标
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../syntax/font_underline/" title="7.3. 下划线" class="md-nav__link">
      7.3. 下划线
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../syntax/font_line/" title="7.4. 横线" class="md-nav__link">
      7.4. 横线
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../syntax/font_underline_line/" title="7.5. 下划线+横线" class="md-nav__link">
      7.5. 下划线+横线
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-23-2-8" type="checkbox" id="nav-23-2-8">
    
    <label class="md-nav__link" for="nav-23-2-8">
      8. 列表
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="3">
      <label class="md-nav__title" for="nav-23-2-8">
        8. 列表
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../syntax/list_noseq/" title="8.1. 无序列表" class="md-nav__link">
      8.1. 无序列表
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../syntax/list_seq/" title="8.2. 有序列表" class="md-nav__link">
      8.2. 有序列表
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../syntax/list_task/" title="8.3. 任务列表" class="md-nav__link">
      8.3. 任务列表
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../syntax/cutline/" title="9. 分割线" class="md-nav__link">
      9. 分割线
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-23-2-10" type="checkbox" id="nav-23-2-10">
    
    <label class="md-nav__link" for="nav-23-2-10">
      10. 链接
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="3">
      <label class="md-nav__title" for="nav-23-2-10">
        10. 链接
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../syntax/link_normal/" title="10.1. 普通链接" class="md-nav__link">
      10.1. 普通链接
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../syntax/link_auto/" title="10.2. 自动链接" class="md-nav__link">
      10.2. 自动链接
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../syntax/link_anchor/" title="10.3. 锚点提示" class="md-nav__link">
      10.3. 锚点提示
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-23-2-11" type="checkbox" id="nav-23-2-11">
    
    <label class="md-nav__link" for="nav-23-2-11">
      11. 图片
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="3">
      <label class="md-nav__title" for="nav-23-2-11">
        11. 图片
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../syntax/image_inline/" title="11.1. 行内式" class="md-nav__link">
      11.1. 行内式
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../syntax/image_index/" title="11.2. 参考式" class="md-nav__link">
      11.2. 参考式
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../syntax/escape/" title="12. 转义" class="md-nav__link">
      12. 转义
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-23-2-13" type="checkbox" id="nav-23-2-13">
    
    <label class="md-nav__link" for="nav-23-2-13">
      13. 高亮
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="3">
      <label class="md-nav__title" for="nav-23-2-13">
        13. 高亮
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../syntax/highlight_code/" title="13.1. 代码高亮" class="md-nav__link">
      13.1. 代码高亮
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../syntax/highlight_background/" title="13.2. 背景高亮" class="md-nav__link">
      13.2. 背景高亮
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-23-2-14" type="checkbox" id="nav-23-2-14">
    
    <label class="md-nav__link" for="nav-23-2-14">
      14. 注解
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="3">
      <label class="md-nav__title" for="nav-23-2-14">
        14. 注解
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../syntax/note_main/" title="14.1. 介绍" class="md-nav__link">
      14.1. 介绍
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../syntax/note_full/" title="14.2. 完整格式" class="md-nav__link">
      14.2. 完整格式
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../syntax/note_empty-title/" title="14.3. 空标题" class="md-nav__link">
      14.3. 空标题
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../syntax/note_none-title/" title="14.4. 无标题" class="md-nav__link">
      14.4. 无标题
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../syntax/note_none-type/" title="14.5. 无类型" class="md-nav__link">
      14.5. 无类型
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../syntax/note_details/" title="14.6. 折叠" class="md-nav__link">
      14.6. 折叠
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../syntax/note_style/" title="14.7. 11种颜色样式" class="md-nav__link">
      14.7. 11种颜色样式
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../syntax/note_nest/" title="14.8. 嵌套" class="md-nav__link">
      14.8. 嵌套
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../syntax/footnote/" title="15. 脚注" class="md-nav__link">
      15. 脚注
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../syntax/meta/" title="16. 元信息" class="md-nav__link">
      16. 元信息
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-23-2-17" type="checkbox" id="nav-23-2-17">
    
    <label class="md-nav__link" for="nav-23-2-17">
      17. 数学公式
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="3">
      <label class="md-nav__title" for="nav-23-2-17">
        17. 数学公式
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../syntax/math_main/" title="17.1. 介绍" class="md-nav__link">
      17.1. 介绍
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../syntax/math_js/" title="17.2. 导入js" class="md-nav__link">
      17.2. 导入js
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../syntax/math_usage/" title="17.3. 用法" class="md-nav__link">
      17.3. 用法
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-23-2-18" type="checkbox" id="nav-23-2-18">
    
    <label class="md-nav__link" for="nav-23-2-18">
      18. emoji
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="3">
      <label class="md-nav__title" for="nav-23-2-18">
        18. emoji
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../syntax/emoji_main/" title="18.1. 介绍" class="md-nav__link">
      18.1. 介绍
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../syntax/emoji_principle/" title="18.2. 工作原理" class="md-nav__link">
      18.2. 工作原理
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../syntax/emoji_usage/" title="18.3. 最佳实践" class="md-nav__link">
      18.3. 最佳实践
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../syntax/symbol/" title="19. 特殊符号" class="md-nav__link">
      19. 特殊符号
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-23-2-20" type="checkbox" id="nav-23-2-20">
    
    <label class="md-nav__link" for="nav-23-2-20">
      20. 嵌套
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="3">
      <label class="md-nav__title" for="nav-23-2-20">
        20. 嵌套
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../syntax/nest_main/" title="20.1. 介绍" class="md-nav__link">
      20.1. 介绍
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../syntax/nest_note_note/" title="20.2. 注解-注解" class="md-nav__link">
      20.2. 注解-注解
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../syntax/nest_list_list/" title="20.3. 列表-列表" class="md-nav__link">
      20.3. 列表-列表
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../syntax/nest_quote_quote/" title="20.4. 引用-引用" class="md-nav__link">
      20.4. 引用-引用
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../syntax/nest_note_code/" title="20.5. 注解-代码块" class="md-nav__link">
      20.5. 注解-代码块
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../syntax/nest_list_code/" title="20.6. 列表-代码块" class="md-nav__link">
      20.6. 列表-代码块
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../syntax/nest_quote_code/" title="20.7. 引用-代码块" class="md-nav__link">
      20.7. 引用-代码块
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../syntax/nest_yellow_code/" title="20.8. 黄色区块-代码" class="md-nav__link">
      20.8. 黄色区块-代码
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../syntax/nest_green_code/" title="20.9. 绿色区块-代码" class="md-nav__link">
      20.9. 绿色区块-代码
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../syntax/nest_red_code/" title="20.10. 红色区块-代码" class="md-nav__link">
      20.10. 红色区块-代码
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../syntax/nest_greenred_code/" title="20.11. 绿接红区块-代码" class="md-nav__link">
      20.11. 绿接红区块-代码
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../syntax/nest_note_list_quote/" title="20.12. 注解-列表-引用" class="md-nav__link">
      20.12. 注解-列表-引用
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../syntax/nest_list_list_quote/" title="20.13. 列表-列表-引用" class="md-nav__link">
      20.13. 列表-列表-引用
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../syntax/nest_quote_quote_code/" title="20.14. 引用-引用-代码" class="md-nav__link">
      20.14. 引用-引用-代码
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-23-3" type="checkbox" id="nav-23-3">
    
    <label class="md-nav__link" for="nav-23-3">
      3. Append
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-23-3">
        3. Append
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../appendix/pygments/" title="1. 支持代码高亮的语言" class="md-nav__link">
      1. 支持代码高亮的语言
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../appendix/emoji_shortname/" title="2. emojione全名短名映射表" class="md-nav__link">
      2. emojione全名短名映射表
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../appendix/baidu_tongji/" title="3. 添加百度统计" class="md-nav__link">
      3. 添加百度统计
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../appendix/color/" title="4. 配色" class="md-nav__link">
      4. 配色
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../appendix/module/" title="5. 模块介绍" class="md-nav__link">
      5. 模块介绍
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../appendix/level/" title="6. mkdocs层级关系" class="md-nav__link">
      6. mkdocs层级关系
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../appendix/search/" title="7. 支持中文搜索" class="md-nav__link">
      7. 支持中文搜索
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../appendix/yml/" title="8. mkdocs.yml范例" class="md-nav__link">
      8. mkdocs.yml范例
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-24" type="checkbox" id="nav-24">
    
    <label class="md-nav__link" for="nav-24">
      Learning site
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-24">
        Learning site
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../url/url.index/" title="1. web" class="md-nav__link">
      1. web
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
  
    <label class="md-nav__title" for="__toc">目录</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#1" title="1. 介绍" class="md-nav__link">
    1. 介绍
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2" title="2. 原理" class="md-nav__link">
    2. 原理
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#21" title="2.1 自动切换" class="md-nav__link">
    2.1 自动切换
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3" title="3. 部署搭建" class="md-nav__link">
    3. 部署搭建
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#31" title="3.1 环境准备" class="md-nav__link">
    3.1 环境准备
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#32" title="3.2 安装" class="md-nav__link">
    3.2 安装
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#33" title="3.3 配置" class="md-nav__link">
    3.3 配置
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#331" title="3.3.1 配置文件" class="md-nav__link">
    3.3.1 配置文件
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#332" title="3.3.2 初始化" class="md-nav__link">
    3.3.2 初始化
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#333" title="3.3.3 其他命令" class="md-nav__link">
    3.3.3 其他命令
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#34" title="3.4 测试" class="md-nav__link">
    3.4 测试
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#341" title="3.4.1 简单测试" class="md-nav__link">
    3.4.1 简单测试
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#343" title="3.4.3 副本测试" class="md-nav__link">
    3.4.3 副本测试
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#343_1" title="3.4.3 高可用测试" class="md-nav__link">
    3.4.3 高可用测试
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#4" title="4. 其他测试" class="md-nav__link">
    4. 其他测试
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#41" title="4.1 删除" class="md-nav__link">
    4.1 删除
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#42" title="4.2 添加" class="md-nav__link">
    4.2 添加
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#43" title="4.3 查看复制的情况" class="md-nav__link">
    4.3 查看复制的情况
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#44" title="4.4 查看副本集配置" class="md-nav__link">
    4.4 查看副本集配置
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#45" title="4.5 注意" class="md-nav__link">
    4.5 注意
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#5" title="5. 应用" class="md-nav__link">
    5. 应用
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#51" title="5.1 手动切换" class="md-nav__link">
    5.1 手动切换
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#52" title="5.2 添加备份节点" class="md-nav__link">
    5.2 添加备份节点
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#53" title="5.3 添加延时节点" class="md-nav__link">
    5.3 添加延时节点
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#531" title="5.3.1 操作" class="md-nav__link">
    5.3.1 操作
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#532" title="5.3.2 测试" class="md-nav__link">
    5.3.2 测试
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#54" title="5.4 读写分离" class="md-nav__link">
    5.4 读写分离
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/ZhangTao880414/mkdocs/edit/master/docs/nosql/mongo/mongo.replication.md" title="编辑此页" class="md-icon md-content__icon">&#xE3C9;</a>
                
                
                <p><center><h1>mongod副本集</h1></center></p>
<h2 id="1">1. 介绍<a class="headerlink" href="#1" title="Permanent link">&para;</a></h2>
<p>&#160; &#160; &#160; &#160;MongoDB 副本集（Replica Set）是有自动故障恢复功能的主从集群，有一个Primary节点和一个或多个Secondary节点组成。类似于MySQL的MMM架构。更多关于副本集的介绍请见<a href="https://docs.mongodb.com/manual/replication/">官网</a>。也可以在google、baidu上查阅。mongodb是一款优秀的nosql软件。因为起点晚，吸取了前辈们的优点，</p>
<h2 id="2">2. 原理<a class="headerlink" href="#2" title="Permanent link">&para;</a></h2>
<p>&#160; &#160; &#160; &#160;副本集中数据同步过程：Primary节点写入数据，Secondary通过读取Primary的oplog得到复制信息，开始复制数据并且将复制信息写入到自己的oplog。如果某个操作失败，则备份节点停止从当前数据源复制数据。如果某个备份节点由于某些原因挂掉了，当重新启动后，就会自动从oplog的最后一个操作开始同步，同步完成后，将信息写入自己的oplog，由于复制操作是先复制数据，复制完成后再写入oplog，有可能相同的操作会同步两份，不过MongoDB在设计之初就考虑到这个问题，将oplog的同一个操作执行多次，与执行一次的效果是一样的。简单的说就是：</p>
<p>当Primary节点完成数据操作后，Secondary会做出一系列的动作保证数据的同步</p>
<ul>
<li>1：检查自己local库的oplog.rs集合找出最近的时间戳。</li>
<li>2：检查Primary节点local库oplog.rs集合，找出大于此时间戳的记录。</li>
<li>3：将找到的记录插入到自己的oplog.rs集合中，并执行这些操作。</li>
</ul>
<p>&#160; &#160; &#160; &#160;副本集的同步和主从同步一样，都是异步同步的过程，不同的是副本集有个自动故障转移的功能。其原理是：slave端从primary端获取日志，然后在自己身上完全顺序的执行日志所记录的各种操作（该日志是不记录查询操作的），这个日志就是local数据 库中的oplog.rs表，默认在64位机器上这个表是比较大的，占磁盘大小的5%，oplog.rs的大小可以在启动参数中设 定：--oplogSize 1000,单位是M。</p>
<blockquote>
<p>注意：在副本集的环境中，要是所有的Secondary都宕机了，只剩下Primary。最后Primary会变成Secondary，不能提供服务。</p>
</blockquote>
<h3 id="21">2.1 自动切换<a class="headerlink" href="#21" title="Permanent link">&para;</a></h3>
<p>集群开始，如下</p>
<p><img alt="demo" src="../../../pictures/nosql/mongo/p2.png" /></p>
<p><img alt="primary正常工作" src="../../../pictures/nosql/mongo/p3.png" /></p>
<p>primary挂了以后</p>
<p><img alt="primary挂了以后" src="../../../pictures/nosql/mongo/p4.png" /></p>
<h2 id="3">3. 部署搭建<a class="headerlink" href="#3" title="Permanent link">&para;</a></h2>
<h3 id="31">3.1 环境准备<a class="headerlink" href="#31" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>IP</th>
<th>主机名</th>
<th>系统</th>
<th>安装软件</th>
</tr>
</thead>
<tbody>
<tr>
<td>192.168.178.128</td>
<td>node3</td>
<td>ubuntu16</td>
<td>mongodb</td>
</tr>
<tr>
<td>192.168.178.129</td>
<td>node2</td>
<td>ubuntu16</td>
<td>mongodb</td>
</tr>
<tr>
<td>192.168.178.130</td>
<td>node1</td>
<td>ubuntu16</td>
<td>mongodb</td>
</tr>
</tbody>
</table>
<h3 id="32">3.2 安装<a class="headerlink" href="#32" title="Permanent link">&para;</a></h3>
<p><a href="https://www.mongodb.com/download-center/community">官网包</a></p>
<p><a href="https://taotaolinux.github.io/books/linux/nosql/mongo/mongo.index/">离线安装文档</a></p>
<p><a href="https://docs.mongodb.com/manual/tutorial/install-mongodb-on-ubuntu/">在线安装文档</a></p>
<p>安装
<div class="codehilite"><pre><span></span>sudo apt-key adv --keyserver hkp://keyserver.ubuntu.com:80 --recv 9DA31620334BD75D9DCB49F368818C72E52529D4
echo &quot;deb [ arch=amd64,arm64 ] https://repo.mongodb.org/apt/ubuntu xenial/mongodb-org/4.0 multiverse&quot; | sudo tee /etc/apt/sources.list.d/mongodb-org-4.0.list
sudo apt-get update
sudo apt-get install -y mongodb-org
systemctl start mongod.service
cp /etc/mongod.conf /etc/mongod.conf.ori
sed -i &#39;s/bindIp: 127.0.0.1/bindIp: 0.0.0.0/&#39; /etc/mongod.conf
grep -i &#39;bindIp&#39; /etc/mongod.conf
systemctl start mongod.service
</pre></div>
卸载</p>
<div class="codehilite"><pre><span></span>sudo service mongod stop
sudo apt-get purge mongodb-org*
sudo rm -r /var/log/mongodb
sudo rm -r /var/lib/mongodb
</pre></div>

<p>安装过程</p>
<p><div class="codehilite"><pre><span></span>root@node1:~# sudo apt-key adv --keyserver hkp://keyserver.ubuntu.com:80 --recv 9DA31620334BD75D9DCB49F368818C72E52529D4
Executing: /tmp/tmp.KG9f1TH9ct/gpg.1.sh --keyserver
hkp://keyserver.ubuntu.com:80
--recv
9DA31620334BD75D9DCB49F368818C72E52529D4
gpg: requesting key E52529D4 from hkp server keyserver.ubuntu.com
gpg: key E52529D4: public key &quot;MongoDB 4.0 Release Signing Key &lt;packaging@mongodb.com&gt;&quot; imported
gpg: Total number processed: 1
gpg:               imported: 1  (RSA: 1)

root@node1:~# echo &quot;deb [ arch=amd64,arm64 ] https://repo.mongodb.org/apt/ubuntu xenial/mongodb-org/4.0 multiverse&quot; | sudo tee /etc/apt/sources.list.d/mongodb-org-4.0.list
deb [ arch=amd64,arm64 ] https://repo.mongodb.org/apt/ubuntu xenial/mongodb-org/4.0 multiverse

root@node1:~# sudo apt-get install -y mongodb-org
Reading package lists... Done
........

root@node1:~# systemctl start mongod.service
Display all 159 possibilities? (y or n)
root@node1:~# systemctl start mongod.service
root@node1:~# systemctl status mongod.service
● mongod.service - MongoDB Database Server
   Loaded: loaded (/lib/systemd/system/mongod.service; disabled; vendor preset: enabled)
   Active: active (running) since Wed 2019-04-03 09:56:57 CST; 6s ago
     Docs: https://docs.mongodb.org/manual
 Main PID: 3301 (mongod)
   CGroup: /system.slice/mongod.service
           └─3301 /usr/bin/mongod --config /etc/mongod.conf

Apr 03 09:56:57 node1 systemd[1]: Started MongoDB Database Server.


root@node1:~# mongo
MongoDB shell version v4.0.6
connecting to: mongodb://127.0.0.1:27017/?gssapiServiceName=mongodb
Implicit session: session { &quot;id&quot; : UUID(&quot;acf7e437-8b69-4892-8e8c-cba85de600a0&quot;) }
MongoDB server version: 4.0.8
Welcome to the MongoDB shell.
For interactive help, type &quot;help&quot;.
For more comprehensive documentation, see
    http://docs.mongodb.org/
Questions? Try the support group
    http://groups.google.com/group/mongodb-user
Server has startup warnings:
2019-04-02T18:56:57.640-0700 I STORAGE  [initandlisten]
2019-04-02T18:56:57.640-0700 I STORAGE  [initandlisten] ** WARNING: Using the XFS filesystem is strongly recommended with the WiredTiger storage engine
2019-04-02T18:56:57.640-0700 I STORAGE  [initandlisten] **          See http://dochub.mongodb.org/core/prodnotes-filesystem
2019-04-02T18:56:58.353-0700 I CONTROL  [initandlisten]
2019-04-02T18:56:58.353-0700 I CONTROL  [initandlisten] ** WARNING: Access control is not enabled for the database.
2019-04-02T18:56:58.353-0700 I CONTROL  [initandlisten] **          Read and write access to data and configuration is unrestricted.
2019-04-02T18:56:58.353-0700 I CONTROL  [initandlisten]
---
Enable MongoDB&#39;s free cloud-based monitoring service, which will then receive and display
metrics about your deployment (disk utilization, CPU, operation statistics, etc).

The monitoring data will be available on a MongoDB website with a unique URL accessible to you
and anyone you share the URL with. MongoDB may use this information to make product
improvements and to suggest MongoDB products and deployment options to you.

To enable free monitoring, run the following command: db.enableFreeMonitoring()
To permanently disable this reminder, run the following command: db.disableFreeMonitoring()
---

&gt;
bye
root@node1:~# mongo --help
MongoDB shell version v4.0.6
usage: mongo [options] [db address] [file names (ending in .js)]
db address can be:
  foo                   foo database on local machine
  192.168.0.5/foo       foo database on 192.168.0.5 machine
  192.168.0.5:9999/foo  foo database on 192.168.0.5 machine on port 9999
Options:
  --shell                             run the shell after executing files
  --nodb                              don&#39;t connect to mongod on startup - no
                                      &#39;db address&#39; arg expected
  --norc                              will not run the &quot;.mongorc.js&quot; file on
                                      start up
  --quiet                             be less chatty
  --port arg                          port to connect to
  --host arg                          server to connect to
  --eval arg                          evaluate javascript
  -h [ --help ]                       show this usage information
  --version                           show version information
  --verbose                           increase verbosity
  --ipv6                              enable IPv6 support (disabled by default)
  --disableJavaScriptJIT              disable the Javascript Just In Time
                                      compiler
  --enableJavaScriptJIT               enable the Javascript Just In Time
                                      compiler
  --disableJavaScriptProtection       allow automatic JavaScript function
                                      marshalling
  --retryWrites                       automatically retry write operations upon
                                      transient network errors
  --disableImplicitSessions           do not automatically create and use
                                      implicit sessions
  --jsHeapLimitMB arg                 set the js scope&#39;s heap size limit

Authentication Options:
  -u [ --username ] arg               username for authentication
  -p [ --password ] arg               password for authentication
  --authenticationDatabase arg        user source (defaults to dbname)
  --authenticationMechanism arg       authentication mechanism
  --gssapiServiceName arg (=mongodb)  Service name to use when authenticating
                                      using GSSAPI/Kerberos
  --gssapiHostName arg                Remote host name to use for purpose of
                                      GSSAPI/Kerberos authentication

file names: a list of files to run. files have to end in .js and will exit after unless --shell is specified
root@node1:~# mongo --quiet   # 静态输出，减少打印
&gt; show dbs;
admin   0.000GB
config  0.000GB
local   0.000GB

root@node1:~# cp /etc/mongod.conf /etc/mongod.conf.ori
root@node1:~# egrep -v &#39;#|^$&#39; /etc/mongod.conf
storage:
  dbPath: /var/lib/mongodb
  journal:
    enabled: true
systemLog:
  destination: file
  logAppend: true
  path: /var/log/mongodb/mongod.log
net:
  port: 27017
  bindIp: 127.0.0.1
processManagement:
  timeZoneInfo: /usr/share/zoneinfo
root@node1:~# sed -i &#39;s/bindIp: 127.0.0.1/bindIp: 0.0.0.0/&#39; /etc/mongod.conf
root@node1:~# grep -i &#39;bindIp&#39; /etc/mongod.conf
  bindIp: 0.0.0.0
root@node1:~# systemctl restart mongod
</pre></div>
安装mingodb每个机器都要安装。其他机器安装省略。</p>
<h3 id="33">3.3 配置<a class="headerlink" href="#33" title="Permanent link">&para;</a></h3>
<h4 id="331">3.3.1 配置文件<a class="headerlink" href="#331" title="Permanent link">&para;</a></h4>
<p>配置文件最后加
<div class="codehilite"><pre><span></span>replication:
  replSetName: repset
</pre></div>
mongodb通过这个来组成集群。</p>
<div class="admonition note">
<p class="admonition-title">填坑</p>
<div class="codehilite"><pre><span></span><span class="mf">1.</span> <span class="n">mongod</span><span class="err">的配置文件，有</span><span class="n">yaml</span><span class="err">格式也有普通的</span><span class="o">=</span><span class="err">格式。</span>
<span class="mf">2.</span> <span class="n">yaml</span><span class="err">格式的参考</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">docs</span><span class="o">.</span><span class="n">mongodb</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">manual</span><span class="o">/</span><span class="n">reference</span><span class="o">/</span><span class="n">configuration</span><span class="o">-</span><span class="n">options</span><span class="o">/</span><span class="c1">#replication.replSetName</span>
</pre></div>

</div>
<details class="note"><summary>node1 配置文件</summary><div class="codehilite"><pre><span></span><span class="n">root</span><span class="nd">@node1</span><span class="p">:</span><span class="o">~</span><span class="c1"># egrep -v &#39;#|^$&#39; /etc/mongod.conf</span>
<span class="n">storage</span><span class="p">:</span>
  <span class="n">dbPath</span><span class="p">:</span> <span class="o">/</span><span class="n">var</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">mongodb</span>
  <span class="n">journal</span><span class="p">:</span>
    <span class="n">enabled</span><span class="p">:</span> <span class="n">true</span>
<span class="n">systemLog</span><span class="p">:</span>
  <span class="n">destination</span><span class="p">:</span> <span class="nb">file</span>
  <span class="n">logAppend</span><span class="p">:</span> <span class="n">true</span>
  <span class="n">path</span><span class="p">:</span> <span class="o">/</span><span class="n">var</span><span class="o">/</span><span class="n">log</span><span class="o">/</span><span class="n">mongodb</span><span class="o">/</span><span class="n">mongod</span><span class="o">.</span><span class="n">log</span>
<span class="n">net</span><span class="p">:</span>
  <span class="n">port</span><span class="p">:</span> <span class="mi">27017</span>
  <span class="n">bindIp</span><span class="p">:</span> <span class="mf">0.0</span><span class="o">.</span><span class="mf">0.0</span>
<span class="n">processManagement</span><span class="p">:</span>
  <span class="n">timeZoneInfo</span><span class="p">:</span> <span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">share</span><span class="o">/</span><span class="n">zoneinfo</span>
<span class="n">replication</span><span class="p">:</span>
  <span class="n">replSetName</span><span class="p">:</span> <span class="n">repset</span>
</pre></div>

</details>
<details class="note"><summary>node2 配置文件</summary><div class="codehilite"><pre><span></span><span class="n">root</span><span class="nd">@node2</span><span class="p">:</span><span class="o">~</span><span class="c1"># egrep -v &#39;#|^$&#39; /etc/mongod.conf</span>
<span class="n">storage</span><span class="p">:</span>
  <span class="n">dbPath</span><span class="p">:</span> <span class="o">/</span><span class="n">var</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">mongodb</span>
  <span class="n">journal</span><span class="p">:</span>
    <span class="n">enabled</span><span class="p">:</span> <span class="n">true</span>
<span class="n">systemLog</span><span class="p">:</span>
  <span class="n">destination</span><span class="p">:</span> <span class="nb">file</span>
  <span class="n">logAppend</span><span class="p">:</span> <span class="n">true</span>
  <span class="n">path</span><span class="p">:</span> <span class="o">/</span><span class="n">var</span><span class="o">/</span><span class="n">log</span><span class="o">/</span><span class="n">mongodb</span><span class="o">/</span><span class="n">mongod</span><span class="o">.</span><span class="n">log</span>
<span class="n">net</span><span class="p">:</span>
  <span class="n">port</span><span class="p">:</span> <span class="mi">27017</span>
  <span class="n">bindIp</span><span class="p">:</span> <span class="mf">0.0</span><span class="o">.</span><span class="mf">0.0</span>
<span class="n">processManagement</span><span class="p">:</span>
  <span class="n">timeZoneInfo</span><span class="p">:</span> <span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">share</span><span class="o">/</span><span class="n">zoneinfo</span>
<span class="n">replication</span><span class="p">:</span>
  <span class="n">replSetName</span><span class="p">:</span> <span class="n">repset</span>
</pre></div>

</details>
<details class="note"><summary>node3 配置文件</summary><div class="codehilite"><pre><span></span><span class="n">root</span><span class="nd">@node3</span><span class="p">:</span><span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">local</span><span class="o">/</span><span class="n">mongo</span><span class="o">/</span><span class="n">conf</span><span class="c1"># egrep -v &#39;#|^$&#39; /etc/mongod.conf</span>
<span class="n">storage</span><span class="p">:</span>
  <span class="n">dbPath</span><span class="p">:</span> <span class="o">/</span><span class="n">var</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">mongodb</span>
  <span class="n">journal</span><span class="p">:</span>
    <span class="n">enabled</span><span class="p">:</span> <span class="n">true</span>
<span class="n">systemLog</span><span class="p">:</span>
  <span class="n">destination</span><span class="p">:</span> <span class="nb">file</span>
  <span class="n">logAppend</span><span class="p">:</span> <span class="n">true</span>
  <span class="n">path</span><span class="p">:</span> <span class="o">/</span><span class="n">var</span><span class="o">/</span><span class="n">log</span><span class="o">/</span><span class="n">mongodb</span><span class="o">/</span><span class="n">mongod</span><span class="o">.</span><span class="n">log</span>
<span class="n">net</span><span class="p">:</span>
  <span class="n">port</span><span class="p">:</span> <span class="mi">27017</span>
  <span class="n">bindIp</span><span class="p">:</span> <span class="mf">0.0</span><span class="o">.</span><span class="mf">0.0</span>
<span class="n">processManagement</span><span class="p">:</span>
  <span class="n">timeZoneInfo</span><span class="p">:</span> <span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">share</span><span class="o">/</span><span class="n">zoneinfo</span>
<span class="n">replication</span><span class="p">:</span>
  <span class="n">replSetName</span><span class="p">:</span> <span class="n">repset</span>
</pre></div>

</details>
<h4 id="332">3.3.2 初始化<a class="headerlink" href="#332" title="Permanent link">&para;</a></h4>
<p>快速命令
<div class="codehilite"><pre><span></span>rs.initiate() 
rs.conf()
rs.add(&quot;node1:27017&quot;)  # 集群中添加机器
rs.add(&quot;node3:27017&quot;)
</pre></div>
详细过程</p>
<div class="codehilite"><pre><span></span>&gt; rs.initiate()
{
    &quot;info2&quot; : &quot;no configuration specified. Using a default configuration for the set&quot;,
    &quot;me&quot; : &quot;node2:27017&quot;,
    &quot;ok&quot; : 1,
    &quot;operationTime&quot; : Timestamp(1554258330, 1),
    &quot;$clusterTime&quot; : {
        &quot;clusterTime&quot; : Timestamp(1554258330, 1),
        &quot;signature&quot; : {
            &quot;hash&quot; : BinData(0,&quot;AAAAAAAAAAAAAAAAAAAAAAAAAAA=&quot;),
            &quot;keyId&quot; : NumberLong(0)
        }
    }
}
repset:SECONDARY&gt; rs.conf()
{
    &quot;_id&quot; : &quot;repset&quot;,
    &quot;version&quot; : 1,
    &quot;protocolVersion&quot; : NumberLong(1),
    &quot;writeConcernMajorityJournalDefault&quot; : true,
    &quot;members&quot; : [
        {
            &quot;_id&quot; : 0,
            &quot;host&quot; : &quot;node2:27017&quot;,
            &quot;arbiterOnly&quot; : false,
            &quot;buildIndexes&quot; : true,
            &quot;hidden&quot; : false,
            &quot;priority&quot; : 1,
            &quot;tags&quot; : {

            },
            &quot;slaveDelay&quot; : NumberLong(0),
            &quot;votes&quot; : 1
        }
    ],
    &quot;settings&quot; : {
        &quot;chainingAllowed&quot; : true,
        &quot;heartbeatIntervalMillis&quot; : 2000,
        &quot;heartbeatTimeoutSecs&quot; : 10,
        &quot;electionTimeoutMillis&quot; : 10000,
        &quot;catchUpTimeoutMillis&quot; : -1,
        &quot;catchUpTakeoverDelayMillis&quot; : 30000,
        &quot;getLastErrorModes&quot; : {

        },
        &quot;getLastErrorDefaults&quot; : {
            &quot;w&quot; : 1,
            &quot;wtimeout&quot; : 0
        },
        &quot;replicaSetId&quot; : ObjectId(&quot;5ca419993f98997dbf343825&quot;)
    }
}
repset:PRIMARY&gt; rs.add(&quot;node1:27017&quot;)
{
    &quot;ok&quot; : 1,
    &quot;operationTime&quot; : Timestamp(1554258349, 1),
    &quot;$clusterTime&quot; : {
        &quot;clusterTime&quot; : Timestamp(1554258349, 1),
        &quot;signature&quot; : {
            &quot;hash&quot; : BinData(0,&quot;AAAAAAAAAAAAAAAAAAAAAAAAAAA=&quot;),
            &quot;keyId&quot; : NumberLong(0)
        }
    }
}
repset:PRIMARY&gt; rs.add(&quot;node3:27017&quot;)
{
    &quot;ok&quot; : 1,
    &quot;operationTime&quot; : Timestamp(1554258369, 1),
    &quot;$clusterTime&quot; : {
        &quot;clusterTime&quot; : Timestamp(1554258369, 1),
        &quot;signature&quot; : {
            &quot;hash&quot; : BinData(0,&quot;AAAAAAAAAAAAAAAAAAAAAAAAAAA=&quot;),
            &quot;keyId&quot; : NumberLong(0)
        }
    }
}
repset:PRIMARY&gt; rs.status()
{
    &quot;set&quot; : &quot;repset&quot;,
    &quot;date&quot; : ISODate(&quot;2019-04-03T02:26:16.610Z&quot;),
    &quot;myState&quot; : 1,
    &quot;term&quot; : NumberLong(1),
    &quot;syncingTo&quot; : &quot;&quot;,
    &quot;syncSourceHost&quot; : &quot;&quot;,
    &quot;syncSourceId&quot; : -1,
    &quot;heartbeatIntervalMillis&quot; : NumberLong(2000),
    &quot;optimes&quot; : {
        &quot;lastCommittedOpTime&quot; : {
            &quot;ts&quot; : Timestamp(1554258369, 1),
            &quot;t&quot; : NumberLong(1)
        },
        &quot;readConcernMajorityOpTime&quot; : {
            &quot;ts&quot; : Timestamp(1554258369, 1),
            &quot;t&quot; : NumberLong(1)
        },
        &quot;appliedOpTime&quot; : {
            &quot;ts&quot; : Timestamp(1554258369, 1),
            &quot;t&quot; : NumberLong(1)
        },
        &quot;durableOpTime&quot; : {
            &quot;ts&quot; : Timestamp(1554258369, 1),
            &quot;t&quot; : NumberLong(1)
        }
    },
    &quot;lastStableCheckpointTimestamp&quot; : Timestamp(1554258332, 2),
    &quot;members&quot; : [
        {
            &quot;_id&quot; : 0,
            &quot;name&quot; : &quot;node2:27017&quot;,
            &quot;health&quot; : 1,
            &quot;state&quot; : 1,
            &quot;stateStr&quot; : &quot;PRIMARY&quot;,
            &quot;uptime&quot; : 82,
            &quot;optime&quot; : {
                &quot;ts&quot; : Timestamp(1554258369, 1),
                &quot;t&quot; : NumberLong(1)
            },
            &quot;optimeDate&quot; : ISODate(&quot;2019-04-03T02:26:09Z&quot;),
            &quot;syncingTo&quot; : &quot;&quot;,
            &quot;syncSourceHost&quot; : &quot;&quot;,
            &quot;syncSourceId&quot; : -1,
            &quot;infoMessage&quot; : &quot;could not find member to sync from&quot;,
            &quot;electionTime&quot; : Timestamp(1554258330, 2),
            &quot;electionDate&quot; : ISODate(&quot;2019-04-03T02:25:30Z&quot;),
            &quot;configVersion&quot; : 3,
            &quot;self&quot; : true,
            &quot;lastHeartbeatMessage&quot; : &quot;&quot;
        },
        {
            &quot;_id&quot; : 1,
            &quot;name&quot; : &quot;node1:27017&quot;,
            &quot;health&quot; : 1,
            &quot;state&quot; : 2,
            &quot;stateStr&quot; : &quot;SECONDARY&quot;,
            &quot;uptime&quot; : 26,
            &quot;optime&quot; : {
                &quot;ts&quot; : Timestamp(1554258369, 1),
                &quot;t&quot; : NumberLong(1)
            },
            &quot;optimeDurable&quot; : {
                &quot;ts&quot; : Timestamp(1554258369, 1),
                &quot;t&quot; : NumberLong(1)
            },
            &quot;optimeDate&quot; : ISODate(&quot;2019-04-03T02:26:09Z&quot;),
            &quot;optimeDurableDate&quot; : ISODate(&quot;2019-04-03T02:26:09Z&quot;),
            &quot;lastHeartbeat&quot; : ISODate(&quot;2019-04-03T02:26:15.703Z&quot;),
            &quot;lastHeartbeatRecv&quot; : ISODate(&quot;2019-04-03T02:26:16.227Z&quot;),
            &quot;pingMs&quot; : NumberLong(1),
            &quot;lastHeartbeatMessage&quot; : &quot;&quot;,
            &quot;syncingTo&quot; : &quot;&quot;,
            &quot;syncSourceHost&quot; : &quot;&quot;,
            &quot;syncSourceId&quot; : -1,
            &quot;infoMessage&quot; : &quot;&quot;,
            &quot;configVersion&quot; : 3
        },
        {
            &quot;_id&quot; : 2,
            &quot;name&quot; : &quot;node3:27017&quot;,
            &quot;health&quot; : 1,
            &quot;state&quot; : 2,
            &quot;stateStr&quot; : &quot;SECONDARY&quot;,
            &quot;uptime&quot; : 6,
            &quot;optime&quot; : {
                &quot;ts&quot; : Timestamp(1554258369, 1),
                &quot;t&quot; : NumberLong(1)
            },
            &quot;optimeDurable&quot; : {
                &quot;ts&quot; : Timestamp(1554258369, 1),
                &quot;t&quot; : NumberLong(1)
            },
            &quot;optimeDate&quot; : ISODate(&quot;2019-04-03T02:26:09Z&quot;),
            &quot;optimeDurableDate&quot; : ISODate(&quot;2019-04-03T02:26:09Z&quot;),
            &quot;lastHeartbeat&quot; : ISODate(&quot;2019-04-03T02:26:15.704Z&quot;),
            &quot;lastHeartbeatRecv&quot; : ISODate(&quot;2019-04-03T02:26:16.231Z&quot;),
            &quot;pingMs&quot; : NumberLong(1),
            &quot;lastHeartbeatMessage&quot; : &quot;&quot;,
            &quot;syncingTo&quot; : &quot;&quot;,
            &quot;syncSourceHost&quot; : &quot;&quot;,
            &quot;syncSourceId&quot; : -1,
            &quot;infoMessage&quot; : &quot;&quot;,
            &quot;configVersion&quot; : 3
        }
    ],
    &quot;ok&quot; : 1,
    &quot;operationTime&quot; : Timestamp(1554258369, 1),
    &quot;$clusterTime&quot; : {
        &quot;clusterTime&quot; : Timestamp(1554258369, 1),
        &quot;signature&quot; : {
            &quot;hash&quot; : BinData(0,&quot;AAAAAAAAAAAAAAAAAAAAAAAAAAA=&quot;),
            &quot;keyId&quot; : NumberLong(0)
        }
    }
}
repset:PRIMARY&gt;
bye
</pre></div>

<div class="admonition note">
<p class="admonition-title">解释</p>
<div class="codehilite"><pre><span></span><span class="s2">&quot;_id&quot;</span><span class="p">:</span> <span class="err">副本集的名称</span>
<span class="s2">&quot;members&quot;</span><span class="p">:</span> <span class="err">副本集的服务器列表</span>
<span class="s2">&quot;_id&quot;</span><span class="p">:</span> <span class="err">服务器的唯一</span><span class="n">ID</span>
<span class="s2">&quot;host&quot;</span><span class="p">:</span> <span class="err">服务器主机</span>
<span class="s2">&quot;priority&quot;</span><span class="p">:</span> <span class="err">是优先级，默认为</span><span class="mi">1</span><span class="err">，优先级</span><span class="mi">0</span><span class="err">为被动节点，不能成为活跃节点。优先级不位</span><span class="mi">0</span><span class="err">则按照有大到小选出活跃节点。</span>
<span class="s2">&quot;arbiterOnly&quot;</span><span class="p">:</span> <span class="err">仲裁节点，只参与投票，不接收数据，也不能成为活跃节点。</span>
</pre></div>

</div>
<h4 id="333">3.3.3 其他命令<a class="headerlink" href="#333" title="Permanent link">&para;</a></h4>
<div class="codehilite"><pre><span></span>repset:PRIMARY&gt; rs.
rs.add(                        rs.conf(                       rs.help(                       rs.prototype                   rs.syncFrom(
rs.addArb(                     rs.config(                     rs.initiate(                   rs.reconfig(                   rs.toLocaleString(
rs.apply(                      rs.constructor                 rs.isMaster(                   rs.remove(                     rs.toString(
rs.bind(                       rs.debug                       rs.printReplicationInfo(       rs.slaveOk(                    rs.valueOf(
rs.call(                       rs.freeze(                     rs.printSlaveReplicationInfo(  rs.status(
rs.compareOpTimes(             rs.hasOwnProperty(             rs.propertyIsEnumerable(       rs.stepDown(
repset:PRIMARY&gt; rs.help()
    rs.status()                                { replSetGetStatus : 1 } checks repl set status
    rs.initiate()                              { replSetInitiate : null } initiates set with default settings
    rs.initiate(cfg)                           { replSetInitiate : cfg } initiates set with configuration cfg
    rs.conf()                                  get the current configuration object from local.system.replset
    rs.reconfig(cfg)                           updates the configuration of a running replica set with cfg (disconnects)
    rs.add(hostportstr)                        add a new member to the set with default attributes (disconnects)
    rs.add(membercfgobj)                       add a new member to the set with extra attributes (disconnects)
    rs.addArb(hostportstr)                     add a new member which is arbiterOnly:true (disconnects)
    rs.stepDown([stepdownSecs, catchUpSecs])   step down as primary (disconnects)
    rs.syncFrom(hostportstr)                   make a secondary sync from the given member
    rs.freeze(secs)                            make a node ineligible to become primary for the time specified
    rs.remove(hostportstr)                     remove a host from the replica set (disconnects)
    rs.slaveOk()                               allow queries on secondary nodes

    rs.printReplicationInfo()                  check oplog size and time range
    rs.printSlaveReplicationInfo()             check replica set members and replication lag
    db.isMaster()                              check who is primary

    reconfiguration helpers disconnect from the database so the shell will display
    an error, even if the command succeeds.
</pre></div>

<h3 id="34">3.4 测试<a class="headerlink" href="#34" title="Permanent link">&para;</a></h3>
<h4 id="341">3.4.1 简单测试<a class="headerlink" href="#341" title="Permanent link">&para;</a></h4>
<p>修改配置文件后，重启mongo。登录测试。</p>
<p><div class="codehilite"><pre><span></span>root@node1:~# mongo --quiet
repset:SECONDARY&gt;

root@node2:~# mongo --quiet
repset:PRIMARY&gt;

root@node3:~# mongo --quiet
repset:SECONDARY&gt;
</pre></div>
可以看出node2是primary，也就是主。其他两个node1，node3是secondary也就是从。接下来测试。</p>
<h4 id="343">3.4.3 副本测试<a class="headerlink" href="#343" title="Permanent link">&para;</a></h4>
<p>主添加数据，不选择库，默认添加到test库中。</p>
<div class="codehilite"><pre><span></span>repset:PRIMARY&gt; show dbs;
admin   0.000GB
config  0.000GB
local   0.000GB
test    0.000GB
repset:PRIMARY&gt; use test;
switched to db test
repset:PRIMARY&gt; for(var i=0;i&lt;10000;i++){db.test.insert({&quot;name&quot;:&quot;taotaolinux&quot;+i,&quot;age&quot;:123})}
WriteResult({ &quot;nInserted&quot; : 1 })
repset:PRIMARY&gt; show tables;
col2
test
repset:PRIMARY&gt; db.test.count()
10000
</pre></div>

<p>从查看
<div class="codehilite"><pre><span></span>repset:SECONDARY&gt; use test;
switched to db test
repset:SECONDARY&gt;  db.test.count()
2019-04-03T13:19:39.080+0800 E QUERY    [js] Error: count failed: {
    &quot;operationTime&quot; : Timestamp(1554268771, 1),
    &quot;ok&quot; : 0,
    &quot;errmsg&quot; : &quot;not master and slaveOk=false&quot;,
    &quot;code&quot; : 13435,
    &quot;codeName&quot; : &quot;NotMasterNoSlaveOk&quot;,
    &quot;$clusterTime&quot; : {
        &quot;clusterTime&quot; : Timestamp(1554268771, 1),
        &quot;signature&quot; : {
            &quot;hash&quot; : BinData(0,&quot;AAAAAAAAAAAAAAAAAAAAAAAAAAA=&quot;),
            &quot;keyId&quot; : NumberLong(0)
        }
    }
} :
_getErrorWithCode@src/mongo/shell/utils.js:25:13
DBQuery.prototype.count@src/mongo/shell/query.js:383:11
DBCollection.prototype.count@src/mongo/shell/collection.js:1431:12
@(shell):1:1
repset:SECONDARY&gt; rs.slaveOk()
repset:SECONDARY&gt; db.test.count()
10000
</pre></div></p>
<details class="danger"><summary>注意</summary><div class="codehilite"><pre><span></span><span class="err">默认从，不能读和写的</span><span class="p">[</span><span class="n">rs</span><span class="o">.</span><span class="n">slaveOk</span><span class="p">()</span>  <span class="err">从才可以读</span><span class="p">]</span><span class="err">，否则报错如下</span><span class="p">:</span>
<span class="n">repset</span><span class="p">:</span><span class="n">SECONDARY</span><span class="o">&gt;</span> <span class="n">show</span> <span class="n">dbs</span><span class="p">;</span>
<span class="mi">2019</span><span class="o">-</span><span class="mo">04</span><span class="o">-</span><span class="mo">02</span><span class="n">T19</span><span class="p">:</span><span class="mi">46</span><span class="p">:</span><span class="mf">28.450</span><span class="o">-</span><span class="mo">0700</span> <span class="n">E</span> <span class="n">QUERY</span>    <span class="p">[</span><span class="n">js</span><span class="p">]</span> <span class="n">Error</span><span class="p">:</span> <span class="n">listDatabases</span> <span class="n">failed</span><span class="p">:{</span>
    <span class="s2">&quot;operationTime&quot;</span> <span class="p">:</span> <span class="n">Timestamp</span><span class="p">(</span><span class="mi">1554259582</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
    <span class="s2">&quot;ok&quot;</span> <span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s2">&quot;errmsg&quot;</span> <span class="p">:</span> <span class="s2">&quot;not master and slaveOk=false&quot;</span><span class="p">,</span>
    <span class="s2">&quot;code&quot;</span> <span class="p">:</span> <span class="mi">13435</span><span class="p">,</span>
    <span class="s2">&quot;codeName&quot;</span> <span class="p">:</span> <span class="s2">&quot;NotMasterNoSlaveOk&quot;</span><span class="p">,</span>
    <span class="s2">&quot;$clusterTime&quot;</span> <span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;clusterTime&quot;</span> <span class="p">:</span> <span class="n">Timestamp</span><span class="p">(</span><span class="mi">1554259582</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
        <span class="s2">&quot;signature&quot;</span> <span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;hash&quot;</span> <span class="p">:</span> <span class="n">BinData</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="s2">&quot;AAAAAAAAAAAAAAAAAAAAAAAAAAA=&quot;</span><span class="p">),</span>
            <span class="s2">&quot;keyId&quot;</span> <span class="p">:</span> <span class="n">NumberLong</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span> <span class="p">:</span>
<span class="n">_getErrorWithCode</span><span class="nd">@src</span><span class="o">/</span><span class="n">mongo</span><span class="o">/</span><span class="n">shell</span><span class="o">/</span><span class="n">utils</span><span class="o">.</span><span class="n">js</span><span class="p">:</span><span class="mi">25</span><span class="p">:</span><span class="mi">13</span>
<span class="n">Mongo</span><span class="o">.</span><span class="n">prototype</span><span class="o">.</span><span class="n">getDBs</span><span class="nd">@src</span><span class="o">/</span><span class="n">mongo</span><span class="o">/</span><span class="n">shell</span><span class="o">/</span><span class="n">mongo</span><span class="o">.</span><span class="n">js</span><span class="p">:</span><span class="mi">139</span><span class="p">:</span><span class="mi">1</span>
<span class="n">shellHelper</span><span class="o">.</span><span class="n">show</span><span class="nd">@src</span><span class="o">/</span><span class="n">mongo</span><span class="o">/</span><span class="n">shell</span><span class="o">/</span><span class="n">utils</span><span class="o">.</span><span class="n">js</span><span class="p">:</span><span class="mi">882</span><span class="p">:</span><span class="mi">13</span>
<span class="n">shellHelper</span><span class="nd">@src</span><span class="o">/</span><span class="n">mongo</span><span class="o">/</span><span class="n">shell</span><span class="o">/</span><span class="n">utils</span><span class="o">.</span><span class="n">js</span><span class="p">:</span><span class="mi">766</span><span class="p">:</span><span class="mi">15</span>
<span class="err">@</span><span class="p">(</span><span class="n">shellhelp2</span><span class="p">):</span><span class="mi">1</span><span class="p">:</span><span class="mi">1</span>
</pre></div>

</details>
<h4 id="343_1">3.4.3 高可用测试<a class="headerlink" href="#343_1" title="Permanent link">&para;</a></h4>
<p>关闭primary mongo</p>
<p><div class="codehilite"><pre><span></span>repset:PRIMARY&gt; db.col2.find()
{ &quot;_id&quot; : ObjectId(&quot;5ca41e317b1bb7f26e3fb62b&quot;), &quot;name&quot; : &quot;taotaolinux&quot; }
repset:PRIMARY&gt;
root@node2:~# systemctl stop mongod.service
</pre></div>
查看其他的，期中node1上mongodb自动切换为primary了。node3还是SECONDARY。
<div class="codehilite"><pre><span></span>repset:SECONDARY&gt; show dbs;
admin   0.000GB
config  0.000GB
local   0.000GB
test    0.000GB
repset:PRIMARY&gt;
</pre></div>
继续测试</p>
<p><div class="codehilite"><pre><span></span>repset:PRIMARY&gt; db.col2.insert({&quot;name&quot;:&quot;可可&quot;})
WriteResult({ &quot;nInserted&quot; : 1 })
repset:PRIMARY&gt; db.col2.find()
{ &quot;_id&quot; : ObjectId(&quot;5ca41e317b1bb7f26e3fb62b&quot;), &quot;name&quot; : &quot;taotaolinux&quot; }
{ &quot;_id&quot; : ObjectId(&quot;5ca4234d03595133e357b7e7&quot;), &quot;name&quot; : &quot;可可&quot; }

repset:SECONDARY&gt; db.col2.find()
{ &quot;_id&quot; : ObjectId(&quot;5ca41e317b1bb7f26e3fb62b&quot;), &quot;name&quot; : &quot;taotaolinux&quot; }
{ &quot;_id&quot; : ObjectId(&quot;5ca4234d03595133e357b7e7&quot;), &quot;name&quot; : &quot;可可&quot; }
</pre></div>
说明完美自动切换了。我再起起点之前的primary mongo，自动会变成secondary。</p>
<p>secondary mongo是不允许写数据的</p>
<div class="codehilite"><pre><span></span>root@node2:~# mongo --quiet
repset:SECONDARY&gt; db.col2.insert({&quot;name&quot;:&quot;数据来自secondary&quot;})
WriteCommandError({
    &quot;operationTime&quot; : Timestamp(1554262271, 1),
    &quot;ok&quot; : 0,
    &quot;errmsg&quot; : &quot;not master&quot;,
    &quot;code&quot; : 10107,
    &quot;codeName&quot; : &quot;NotMaster&quot;,
    &quot;$clusterTime&quot; : {
        &quot;clusterTime&quot; : Timestamp(1554262271, 1),
        &quot;signature&quot; : {
            &quot;hash&quot; : BinData(0,&quot;AAAAAAAAAAAAAAAAAAAAAAAAAAA=&quot;),
            &quot;keyId&quot; : NumberLong(0)
        }
    }
})
repset:SECONDARY&gt; db.col2.find()
Error: error: {
    &quot;operationTime&quot; : Timestamp(1554262281, 1),
    &quot;ok&quot; : 0,
    &quot;errmsg&quot; : &quot;not master and slaveOk=false&quot;,
    &quot;code&quot; : 13435,
    &quot;codeName&quot; : &quot;NotMasterNoSlaveOk&quot;,
    &quot;$clusterTime&quot; : {
        &quot;clusterTime&quot; : Timestamp(1554262281, 1),
        &quot;signature&quot; : {
            &quot;hash&quot; : BinData(0,&quot;AAAAAAAAAAAAAAAAAAAAAAAAAAA=&quot;),
            &quot;keyId&quot; : NumberLong(0)
        }
    }
}
repset:SECONDARY&gt; rs.slaveOk()
repset:SECONDARY&gt; db.col2.find()
{ &quot;_id&quot; : ObjectId(&quot;5ca41e317b1bb7f26e3fb62b&quot;), &quot;name&quot; : &quot;taotaolinux&quot; }
{ &quot;_id&quot; : ObjectId(&quot;5ca4234d03595133e357b7e7&quot;), &quot;name&quot; : &quot;可可&quot; }
</pre></div>

<h2 id="4">4. 其他测试<a class="headerlink" href="#4" title="Permanent link">&para;</a></h2>
<h3 id="41">4.1 删除<a class="headerlink" href="#41" title="Permanent link">&para;</a></h3>
<p><div class="codehilite"><pre><span></span>rs.remove(&#39;node2:27017&#39;)
</pre></div>
操作</p>
<div class="codehilite"><pre><span></span>repset:PRIMARY&gt; rs.remove(&#39;node2:27017&#39;)
{
    &quot;ok&quot; : 1,
    &quot;operationTime&quot; : Timestamp(1554262658, 1),
    &quot;$clusterTime&quot; : {
        &quot;clusterTime&quot; : Timestamp(1554262658, 1),
        &quot;signature&quot; : {
            &quot;hash&quot; : BinData(0,&quot;AAAAAAAAAAAAAAAAAAAAAAAAAAA=&quot;),
            &quot;keyId&quot; : NumberLong(0)
        }
    }
}
repset:PRIMARY&gt; rs.status()
{
    &quot;set&quot; : &quot;repset&quot;,
    &quot;date&quot; : ISODate(&quot;2019-04-03T03:37:41.088Z&quot;),
    &quot;myState&quot; : 1,
    &quot;term&quot; : NumberLong(2),
    &quot;syncingTo&quot; : &quot;&quot;,
    &quot;syncSourceHost&quot; : &quot;&quot;,
    &quot;syncSourceId&quot; : -1,
    &quot;heartbeatIntervalMillis&quot; : NumberLong(2000),
    &quot;optimes&quot; : {
        &quot;lastCommittedOpTime&quot; : {
            &quot;ts&quot; : Timestamp(1554262658, 1),
            &quot;t&quot; : NumberLong(2)
        },
        &quot;readConcernMajorityOpTime&quot; : {
            &quot;ts&quot; : Timestamp(1554262658, 1),
            &quot;t&quot; : NumberLong(2)
        },
        &quot;appliedOpTime&quot; : {
            &quot;ts&quot; : Timestamp(1554262658, 1),
            &quot;t&quot; : NumberLong(2)
        },
        &quot;durableOpTime&quot; : {
            &quot;ts&quot; : Timestamp(1554262658, 1),
            &quot;t&quot; : NumberLong(2)
        }
    },
    &quot;lastStableCheckpointTimestamp&quot; : Timestamp(1554262621, 1),
    &quot;members&quot; : [
        {
            &quot;_id&quot; : 1,
            &quot;name&quot; : &quot;node1:27017&quot;,
            &quot;health&quot; : 1,
            &quot;state&quot; : 1,
            &quot;stateStr&quot; : &quot;PRIMARY&quot;,
            &quot;uptime&quot; : 4382,
            &quot;optime&quot; : {
                &quot;ts&quot; : Timestamp(1554262658, 1),
                &quot;t&quot; : NumberLong(2)
            },
            &quot;optimeDate&quot; : ISODate(&quot;2019-04-03T03:37:38Z&quot;),
            &quot;syncingTo&quot; : &quot;&quot;,
            &quot;syncSourceHost&quot; : &quot;&quot;,
            &quot;syncSourceId&quot; : -1,
            &quot;infoMessage&quot; : &quot;&quot;,
            &quot;electionTime&quot; : Timestamp(1554260529, 1),
            &quot;electionDate&quot; : ISODate(&quot;2019-04-03T03:02:09Z&quot;),
            &quot;configVersion&quot; : 4,
            &quot;self&quot; : true,
            &quot;lastHeartbeatMessage&quot; : &quot;&quot;
        },
        {
            &quot;_id&quot; : 2,
            &quot;name&quot; : &quot;node3:27017&quot;,
            &quot;health&quot; : 1,
            &quot;state&quot; : 2,
            &quot;stateStr&quot; : &quot;SECONDARY&quot;,
            &quot;uptime&quot; : 2822,
            &quot;optime&quot; : {
                &quot;ts&quot; : Timestamp(1554262658, 1),
                &quot;t&quot; : NumberLong(2)
            },
            &quot;optimeDurable&quot; : {
                &quot;ts&quot; : Timestamp(1554262658, 1),
                &quot;t&quot; : NumberLong(2)
            },
            &quot;optimeDate&quot; : ISODate(&quot;2019-04-03T03:37:38Z&quot;),
            &quot;optimeDurableDate&quot; : ISODate(&quot;2019-04-03T03:37:38Z&quot;),
            &quot;lastHeartbeat&quot; : ISODate(&quot;2019-04-03T03:37:40.489Z&quot;),
            &quot;lastHeartbeatRecv&quot; : ISODate(&quot;2019-04-03T03:37:40.999Z&quot;),
            &quot;pingMs&quot; : NumberLong(1),
            &quot;lastHeartbeatMessage&quot; : &quot;&quot;,
            &quot;syncingTo&quot; : &quot;&quot;,
            &quot;syncSourceHost&quot; : &quot;&quot;,
            &quot;syncSourceId&quot; : -1,
            &quot;infoMessage&quot; : &quot;&quot;,
            &quot;configVersion&quot; : 4
        }
    ],
    &quot;ok&quot; : 1,
    &quot;operationTime&quot; : Timestamp(1554262658, 1),
    &quot;$clusterTime&quot; : {
        &quot;clusterTime&quot; : Timestamp(1554262658, 1),
        &quot;signature&quot; : {
            &quot;hash&quot; : BinData(0,&quot;AAAAAAAAAAAAAAAAAAAAAAAAAAA=&quot;),
            &quot;keyId&quot; : NumberLong(0)
        }
    }
}
</pre></div>

<h3 id="42">4.2 添加<a class="headerlink" href="#42" title="Permanent link">&para;</a></h3>
<p>要是新的机器想添加到集群中，只有配置好配置文件，然后启动在primary mongodb上加入该机器即可。
上节吧node2剔除集群了。现在假设node2是新的机器。然后加入集群即可。
<div class="codehilite"><pre><span></span>rs.add(&quot;node2:27017&quot;)
</pre></div></p>
<p>操作
<div class="codehilite"><pre><span></span>repset:PRIMARY&gt; rs.add(&quot;node2:27017&quot;)
{
    &quot;ok&quot; : 1,
    &quot;operationTime&quot; : Timestamp(1554262759, 1),
    &quot;$clusterTime&quot; : {
        &quot;clusterTime&quot; : Timestamp(1554262759, 1),
        &quot;signature&quot; : {
            &quot;hash&quot; : BinData(0,&quot;AAAAAAAAAAAAAAAAAAAAAAAAAAA=&quot;),
            &quot;keyId&quot; : NumberLong(0)
        }
    }
}

repset:PRIMARY&gt; rs.status()
{
    &quot;set&quot; : &quot;repset&quot;,
    &quot;date&quot; : ISODate(&quot;2019-04-03T03:39:21.715Z&quot;),
    &quot;myState&quot; : 1,
    &quot;term&quot; : NumberLong(2),
    &quot;syncingTo&quot; : &quot;&quot;,
    &quot;syncSourceHost&quot; : &quot;&quot;,
    &quot;syncSourceId&quot; : -1,
    &quot;heartbeatIntervalMillis&quot; : NumberLong(2000),
    &quot;optimes&quot; : {
        &quot;lastCommittedOpTime&quot; : {
            &quot;ts&quot; : Timestamp(1554262751, 1),
            &quot;t&quot; : NumberLong(2)
        },
        &quot;appliedOpTime&quot; : {
            &quot;ts&quot; : Timestamp(1554262759, 1),
            &quot;t&quot; : NumberLong(2)
        },
        &quot;durableOpTime&quot; : {
            &quot;ts&quot; : Timestamp(1554262759, 1),
            &quot;t&quot; : NumberLong(2)
        }
    },
    &quot;lastStableCheckpointTimestamp&quot; : Timestamp(1554262741, 1),
    &quot;members&quot; : [
        {
            &quot;_id&quot; : 1,
            &quot;name&quot; : &quot;node1:27017&quot;,
            &quot;health&quot; : 1,
            &quot;state&quot; : 1,
            &quot;stateStr&quot; : &quot;PRIMARY&quot;,
            &quot;uptime&quot; : 4482,
            &quot;optime&quot; : {
                &quot;ts&quot; : Timestamp(1554262759, 1),
                &quot;t&quot; : NumberLong(2)
            },
            &quot;optimeDate&quot; : ISODate(&quot;2019-04-03T03:39:19Z&quot;),
            &quot;syncingTo&quot; : &quot;&quot;,
            &quot;syncSourceHost&quot; : &quot;&quot;,
            &quot;syncSourceId&quot; : -1,
            &quot;infoMessage&quot; : &quot;&quot;,
            &quot;electionTime&quot; : Timestamp(1554260529, 1),
            &quot;electionDate&quot; : ISODate(&quot;2019-04-03T03:02:09Z&quot;),
            &quot;configVersion&quot; : 5,
            &quot;self&quot; : true,
            &quot;lastHeartbeatMessage&quot; : &quot;&quot;
        },
        {
            &quot;_id&quot; : 2,
            &quot;name&quot; : &quot;node3:27017&quot;,
            &quot;health&quot; : 1,
            &quot;state&quot; : 2,
            &quot;stateStr&quot; : &quot;SECONDARY&quot;,
            &quot;uptime&quot; : 2923,
            &quot;optime&quot; : {
                &quot;ts&quot; : Timestamp(1554262751, 1),
                &quot;t&quot; : NumberLong(2)
            },
            &quot;optimeDurable&quot; : {
                &quot;ts&quot; : Timestamp(1554262751, 1),
                &quot;t&quot; : NumberLong(2)
            },
            &quot;optimeDate&quot; : ISODate(&quot;2019-04-03T03:39:11Z&quot;),
            &quot;optimeDurableDate&quot; : ISODate(&quot;2019-04-03T03:39:11Z&quot;),
            &quot;lastHeartbeat&quot; : ISODate(&quot;2019-04-03T03:39:19.762Z&quot;),
            &quot;lastHeartbeatRecv&quot; : ISODate(&quot;2019-04-03T03:39:21.274Z&quot;),
            &quot;pingMs&quot; : NumberLong(18),
            &quot;lastHeartbeatMessage&quot; : &quot;&quot;,
            &quot;syncingTo&quot; : &quot;node1:27017&quot;,
            &quot;syncSourceHost&quot; : &quot;node1:27017&quot;,
            &quot;syncSourceId&quot; : 1,
            &quot;infoMessage&quot; : &quot;&quot;,
            &quot;configVersion&quot; : 4
        },
        {
            &quot;_id&quot; : 3,
            &quot;name&quot; : &quot;node2:27017&quot;,
            &quot;health&quot; : 0,
            &quot;state&quot; : 8,
            &quot;stateStr&quot; : &quot;(not reachable/healthy)&quot;,
            &quot;uptime&quot; : 0,
            &quot;optime&quot; : {
                &quot;ts&quot; : Timestamp(0, 0),
                &quot;t&quot; : NumberLong(-1)
            },
            &quot;optimeDurable&quot; : {
                &quot;ts&quot; : Timestamp(0, 0),
                &quot;t&quot; : NumberLong(-1)
            },
            &quot;optimeDate&quot; : ISODate(&quot;1970-01-01T00:00:00Z&quot;),
            &quot;optimeDurableDate&quot; : ISODate(&quot;1970-01-01T00:00:00Z&quot;),
            &quot;lastHeartbeat&quot; : ISODate(&quot;2019-04-03T03:39:19.765Z&quot;),
            &quot;lastHeartbeatRecv&quot; : ISODate(&quot;2019-04-03T03:39:21.534Z&quot;),
            &quot;pingMs&quot; : NumberLong(0),
            &quot;lastHeartbeatMessage&quot; : &quot;Our replica set configuration is invalid or does not include us&quot;,
            &quot;syncingTo&quot; : &quot;&quot;,
            &quot;syncSourceHost&quot; : &quot;&quot;,
            &quot;syncSourceId&quot; : -1,
            &quot;infoMessage&quot; : &quot;&quot;,
            &quot;configVersion&quot; : -1
        }
    ],
    &quot;ok&quot; : 1,
    &quot;operationTime&quot; : Timestamp(1554262759, 1),
    &quot;$clusterTime&quot; : {
        &quot;clusterTime&quot; : Timestamp(1554262759, 1),
        &quot;signature&quot; : {
            &quot;hash&quot; : BinData(0,&quot;AAAAAAAAAAAAAAAAAAAAAAAAAAA=&quot;),
            &quot;keyId&quot; : NumberLong(0)
        }
    }
}
</pre></div></p>
<h3 id="43">4.3 查看复制的情况<a class="headerlink" href="#43" title="Permanent link">&para;</a></h3>
<div class="codehilite"><pre><span></span>repset:PRIMARY&gt;  db.printSlaveReplicationInfo()
source: node3:27017
    syncedTo: Wed Apr 03 2019 13:10:21 GMT+0800 (CST)
    0 secs (0 hrs) behind the primary
source: node2:27017
    syncedTo: Wed Apr 03 2019 13:10:21 GMT+0800 (CST)
    0 secs (0 hrs) behind the primary
</pre></div>

<div class="admonition note">
<p class="admonition-title">解释</p>
<div class="codehilite"><pre><span></span><span class="n">source</span><span class="err">：从库的</span><span class="n">ip</span><span class="err">和端口。</span>
<span class="n">syncedTo</span><span class="err">：目前的同步情况，以及最后一次同步的时间。</span>
<span class="err">从上面可以看出，在数据库内容不变的情况下他是不同步的，数据库变动就会马上同步</span>
</pre></div>

</div>
<h3 id="44">4.4 查看副本集配置<a class="headerlink" href="#44" title="Permanent link">&para;</a></h3>
<div class="codehilite"><pre><span></span>repset:PRIMARY&gt; rs.conf()
{
    &quot;_id&quot; : &quot;repset&quot;,
    &quot;version&quot; : 5,
    &quot;protocolVersion&quot; : NumberLong(1),
    &quot;writeConcernMajorityJournalDefault&quot; : true,
    &quot;members&quot; : [
        {
            &quot;_id&quot; : 1,
            &quot;host&quot; : &quot;node1:27017&quot;,
            &quot;arbiterOnly&quot; : false,
            &quot;buildIndexes&quot; : true,
            &quot;hidden&quot; : false,
            &quot;priority&quot; : 1,
            &quot;tags&quot; : {

            },
            &quot;slaveDelay&quot; : NumberLong(0),
            &quot;votes&quot; : 1
        },
        {
            &quot;_id&quot; : 2,
            &quot;host&quot; : &quot;node3:27017&quot;,
            &quot;arbiterOnly&quot; : false,
            &quot;buildIndexes&quot; : true,
            &quot;hidden&quot; : false,
            &quot;priority&quot; : 1,
            &quot;tags&quot; : {

            },
            &quot;slaveDelay&quot; : NumberLong(0),
            &quot;votes&quot; : 1
        },
        {
            &quot;_id&quot; : 3,
            &quot;host&quot; : &quot;node2:27017&quot;,
            &quot;arbiterOnly&quot; : false,
            &quot;buildIndexes&quot; : true,
            &quot;hidden&quot; : false,
            &quot;priority&quot; : 1,
            &quot;tags&quot; : {

            },
            &quot;slaveDelay&quot; : NumberLong(0),
            &quot;votes&quot; : 1
        }
    ],
    &quot;settings&quot; : {
        &quot;chainingAllowed&quot; : true,
        &quot;heartbeatIntervalMillis&quot; : 2000,
        &quot;heartbeatTimeoutSecs&quot; : 10,
        &quot;electionTimeoutMillis&quot; : 10000,
        &quot;catchUpTimeoutMillis&quot; : -1,
        &quot;catchUpTakeoverDelayMillis&quot; : 30000,
        &quot;getLastErrorModes&quot; : {

        },
        &quot;getLastErrorDefaults&quot; : {
            &quot;w&quot; : 1,
            &quot;wtimeout&quot; : 0
        },
        &quot;replicaSetId&quot; : ObjectId(&quot;5ca419993f98997dbf343825&quot;)
    }
}
</pre></div>

<h3 id="45">4.5 注意<a class="headerlink" href="#45" title="Permanent link">&para;</a></h3>
<div class="codehilite"><pre><span></span>所有的Secondary都宕机、或则副本集中只剩下一个节点，则该节点只能为Secondary节点，也就意味着整个集群智能进行读操作而不能进行写操作，当其他的恢复时，之前的primary节点仍然是primary节点。
当某个节点宕机后重新启动该节点会有一段的时间（时间长短视集群的数据量和宕机时间而定）导致整个集群中所有节点都成为secondary而无法进行写操作（如果应用程序没有设置相应的ReadReference也可能不能进行读取操作）。
官方推荐的最小的副本集也应该具备一个primary节点和两个secondary节点。两个节点的副本集不具备真正的故障转移能力。
</pre></div>

<h2 id="5">5. 应用<a class="headerlink" href="#5" title="Permanent link">&para;</a></h2>
<h3 id="51">5.1 手动切换<a class="headerlink" href="#51" title="Permanent link">&para;</a></h3>
<p>手动切换Primary节点到自己给定的节点，上面已经提到过了优先集priority，因为默认的都是1，所以只需要把给定的服务器的priority加到最大即可。</p>
<details class="note"><summary>查看priority</summary><div class="codehilite"><pre><span></span><span class="n">repset</span><span class="p">:</span><span class="n">SECONDARY</span><span class="o">&gt;</span> <span class="n">rs</span><span class="o">.</span><span class="n">conf</span><span class="p">()</span>
<span class="p">{</span>
    <span class="s2">&quot;_id&quot;</span> <span class="p">:</span> <span class="s2">&quot;repset&quot;</span><span class="p">,</span>
    <span class="s2">&quot;version&quot;</span> <span class="p">:</span> <span class="mi">5</span><span class="p">,</span>
    <span class="s2">&quot;protocolVersion&quot;</span> <span class="p">:</span> <span class="n">NumberLong</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span>
    <span class="s2">&quot;writeConcernMajorityJournalDefault&quot;</span> <span class="p">:</span> <span class="n">true</span><span class="p">,</span>
    <span class="s2">&quot;members&quot;</span> <span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="s2">&quot;_id&quot;</span> <span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
            <span class="s2">&quot;host&quot;</span> <span class="p">:</span> <span class="s2">&quot;node1:27017&quot;</span><span class="p">,</span>
            <span class="s2">&quot;arbiterOnly&quot;</span> <span class="p">:</span> <span class="n">false</span><span class="p">,</span>
            <span class="s2">&quot;buildIndexes&quot;</span> <span class="p">:</span> <span class="n">true</span><span class="p">,</span>
            <span class="s2">&quot;hidden&quot;</span> <span class="p">:</span> <span class="n">false</span><span class="p">,</span>
            <span class="s2">&quot;priority&quot;</span> <span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
            <span class="s2">&quot;tags&quot;</span> <span class="p">:</span> <span class="p">{</span>

            <span class="p">},</span>
            <span class="s2">&quot;slaveDelay&quot;</span> <span class="p">:</span> <span class="n">NumberLong</span><span class="p">(</span><span class="mi">0</span><span class="p">),</span>
            <span class="s2">&quot;votes&quot;</span> <span class="p">:</span> <span class="mi">1</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;_id&quot;</span> <span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
            <span class="s2">&quot;host&quot;</span> <span class="p">:</span> <span class="s2">&quot;node3:27017&quot;</span><span class="p">,</span>
            <span class="s2">&quot;arbiterOnly&quot;</span> <span class="p">:</span> <span class="n">false</span><span class="p">,</span>
            <span class="s2">&quot;buildIndexes&quot;</span> <span class="p">:</span> <span class="n">true</span><span class="p">,</span>
            <span class="s2">&quot;hidden&quot;</span> <span class="p">:</span> <span class="n">false</span><span class="p">,</span>
            <span class="s2">&quot;priority&quot;</span> <span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
            <span class="s2">&quot;tags&quot;</span> <span class="p">:</span> <span class="p">{</span>

            <span class="p">},</span>
            <span class="s2">&quot;slaveDelay&quot;</span> <span class="p">:</span> <span class="n">NumberLong</span><span class="p">(</span><span class="mi">0</span><span class="p">),</span>
            <span class="s2">&quot;votes&quot;</span> <span class="p">:</span> <span class="mi">1</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;_id&quot;</span> <span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
            <span class="s2">&quot;host&quot;</span> <span class="p">:</span> <span class="s2">&quot;node2:27017&quot;</span><span class="p">,</span>
            <span class="s2">&quot;arbiterOnly&quot;</span> <span class="p">:</span> <span class="n">false</span><span class="p">,</span>
            <span class="s2">&quot;buildIndexes&quot;</span> <span class="p">:</span> <span class="n">true</span><span class="p">,</span>
            <span class="s2">&quot;hidden&quot;</span> <span class="p">:</span> <span class="n">false</span><span class="p">,</span>
            <span class="s2">&quot;priority&quot;</span> <span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
            <span class="s2">&quot;tags&quot;</span> <span class="p">:</span> <span class="p">{</span>

            <span class="p">},</span>
            <span class="s2">&quot;slaveDelay&quot;</span> <span class="p">:</span> <span class="n">NumberLong</span><span class="p">(</span><span class="mi">0</span><span class="p">),</span>
            <span class="s2">&quot;votes&quot;</span> <span class="p">:</span> <span class="mi">1</span>
        <span class="p">}</span>
    <span class="p">],</span>
    <span class="s2">&quot;settings&quot;</span> <span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;chainingAllowed&quot;</span> <span class="p">:</span> <span class="n">true</span><span class="p">,</span>
        <span class="s2">&quot;heartbeatIntervalMillis&quot;</span> <span class="p">:</span> <span class="mi">2000</span><span class="p">,</span>
        <span class="s2">&quot;heartbeatTimeoutSecs&quot;</span> <span class="p">:</span> <span class="mi">10</span><span class="p">,</span>
        <span class="s2">&quot;electionTimeoutMillis&quot;</span> <span class="p">:</span> <span class="mi">10000</span><span class="p">,</span>
        <span class="s2">&quot;catchUpTimeoutMillis&quot;</span> <span class="p">:</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span>
        <span class="s2">&quot;catchUpTakeoverDelayMillis&quot;</span> <span class="p">:</span> <span class="mi">30000</span><span class="p">,</span>
        <span class="s2">&quot;getLastErrorModes&quot;</span> <span class="p">:</span> <span class="p">{</span>

        <span class="p">},</span>
        <span class="s2">&quot;getLastErrorDefaults&quot;</span> <span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;w&quot;</span> <span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
            <span class="s2">&quot;wtimeout&quot;</span> <span class="p">:</span> <span class="mi">0</span>
        <span class="p">},</span>
        <span class="s2">&quot;replicaSetId&quot;</span> <span class="p">:</span> <span class="n">ObjectId</span><span class="p">(</span><span class="s2">&quot;5ca419993f98997dbf343825&quot;</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>

</details>
<p>先查看谁是primary</p>
<details class="note"><summary>查看谁是primary</summary><div class="codehilite"><pre><span></span><span class="n">repset</span><span class="p">:</span><span class="n">SECONDARY</span><span class="o">&gt;</span> <span class="n">rs</span><span class="o">.</span><span class="n">isMaster</span><span class="p">()</span>
<span class="p">{</span>
    <span class="s2">&quot;hosts&quot;</span> <span class="p">:</span> <span class="p">[</span>
        <span class="s2">&quot;node1:27017&quot;</span><span class="p">,</span>
        <span class="s2">&quot;node3:27017&quot;</span><span class="p">,</span>
        <span class="s2">&quot;node2:27017&quot;</span>
    <span class="p">],</span>
    <span class="s2">&quot;setName&quot;</span> <span class="p">:</span> <span class="s2">&quot;repset&quot;</span><span class="p">,</span>
    <span class="s2">&quot;setVersion&quot;</span> <span class="p">:</span> <span class="mi">5</span><span class="p">,</span>
    <span class="s2">&quot;ismaster&quot;</span> <span class="p">:</span> <span class="n">false</span><span class="p">,</span>
    <span class="s2">&quot;secondary&quot;</span> <span class="p">:</span> <span class="n">true</span><span class="p">,</span>
    <span class="s2">&quot;primary&quot;</span> <span class="p">:</span> <span class="s2">&quot;node1:27017&quot;</span><span class="p">,</span>
    <span class="s2">&quot;me&quot;</span> <span class="p">:</span> <span class="s2">&quot;node2:27017&quot;</span><span class="p">,</span>
    <span class="s2">&quot;lastWrite&quot;</span> <span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;opTime&quot;</span> <span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;ts&quot;</span> <span class="p">:</span> <span class="n">Timestamp</span><span class="p">(</span><span class="mi">1554269251</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
            <span class="s2">&quot;t&quot;</span> <span class="p">:</span> <span class="n">NumberLong</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
        <span class="p">},</span>
        <span class="s2">&quot;lastWriteDate&quot;</span> <span class="p">:</span> <span class="n">ISODate</span><span class="p">(</span><span class="s2">&quot;2019-04-03T05:27:31Z&quot;</span><span class="p">),</span>
        <span class="s2">&quot;majorityOpTime&quot;</span> <span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;ts&quot;</span> <span class="p">:</span> <span class="n">Timestamp</span><span class="p">(</span><span class="mi">1554269251</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
            <span class="s2">&quot;t&quot;</span> <span class="p">:</span> <span class="n">NumberLong</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
        <span class="p">},</span>
        <span class="s2">&quot;majorityWriteDate&quot;</span> <span class="p">:</span> <span class="n">ISODate</span><span class="p">(</span><span class="s2">&quot;2019-04-03T05:27:31Z&quot;</span><span class="p">)</span>
    <span class="p">},</span>
    <span class="s2">&quot;maxBsonObjectSize&quot;</span> <span class="p">:</span> <span class="mi">16777216</span><span class="p">,</span>
    <span class="s2">&quot;maxMessageSizeBytes&quot;</span> <span class="p">:</span> <span class="mi">48000000</span><span class="p">,</span>
    <span class="s2">&quot;maxWriteBatchSize&quot;</span> <span class="p">:</span> <span class="mi">100000</span><span class="p">,</span>
    <span class="s2">&quot;localTime&quot;</span> <span class="p">:</span> <span class="n">ISODate</span><span class="p">(</span><span class="s2">&quot;2019-04-03T05:27:34.165Z&quot;</span><span class="p">),</span>
    <span class="s2">&quot;logicalSessionTimeoutMinutes&quot;</span> <span class="p">:</span> <span class="mi">30</span><span class="p">,</span>
    <span class="s2">&quot;minWireVersion&quot;</span> <span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s2">&quot;maxWireVersion&quot;</span> <span class="p">:</span> <span class="mi">7</span><span class="p">,</span>
    <span class="s2">&quot;readOnly&quot;</span> <span class="p">:</span> <span class="n">false</span><span class="p">,</span>
    <span class="s2">&quot;ok&quot;</span> <span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="s2">&quot;operationTime&quot;</span> <span class="p">:</span> <span class="n">Timestamp</span><span class="p">(</span><span class="mi">1554269251</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
    <span class="s2">&quot;$clusterTime&quot;</span> <span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;clusterTime&quot;</span> <span class="p">:</span> <span class="n">Timestamp</span><span class="p">(</span><span class="mi">1554269251</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
        <span class="s2">&quot;signature&quot;</span> <span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;hash&quot;</span> <span class="p">:</span> <span class="n">BinData</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="s2">&quot;AAAAAAAAAAAAAAAAAAAAAAAAAAA=&quot;</span><span class="p">),</span>
            <span class="s2">&quot;keyId&quot;</span> <span class="p">:</span> <span class="n">NumberLong</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
<span class="err">可以看出</span><span class="n">node1</span><span class="err">此时为</span><span class="n">primary</span><span class="err">身份。</span>
</pre></div>

</details>
<p>此时让手动让node2位primary</p>
<details class="note"><summary>怎么分辨node2的是哪个</summary><div class="codehilite"><pre><span></span><span class="mf">1.</span> <span class="n">cfg</span><span class="o">.</span><span class="n">members</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">priority</span><span class="o">=</span><span class="mi">2</span> <span class="err">是修改</span><span class="n">node2</span><span class="err">的优先级是</span><span class="mi">2</span><span class="p">[</span><span class="err">默认大家都是</span><span class="mi">1</span><span class="p">]</span><span class="err">，这样</span><span class="n">node2</span><span class="err">是</span><span class="o">&gt;</span><span class="mi">1</span><span class="err">的话，优先级就高，这样就重新选举后</span><span class="n">node2</span><span class="err">会是</span><span class="n">parimary</span>
<span class="mf">2.</span> <span class="err">怎么看出</span><span class="n">node2</span><span class="err">是</span><span class="mi">2</span><span class="err">呢?</span>
    <span class="n">rs</span><span class="o">.</span><span class="n">status</span><span class="p">()</span> <span class="err">查看结果的时候期中</span><span class="s2">&quot;members&quot;</span> <span class="err">后面是数组，</span><span class="n">node2</span><span class="err">在第三位所以是</span><span class="mi">2</span><span class="p">[</span><span class="err">下标是</span><span class="mi">0</span><span class="err">开始计算</span><span class="p">]</span>
</pre></div>

</details>
<p>操作过程</p>
<p><div class="codehilite"><pre><span></span>repset:PRIMARY&gt; cfg=rs.conf()
{
    &quot;_id&quot; : &quot;repset&quot;,
    &quot;version&quot; : 5,
    &quot;protocolVersion&quot; : NumberLong(1),
    &quot;writeConcernMajorityJournalDefault&quot; : true,
    &quot;members&quot; : [
        {
            &quot;_id&quot; : 1,
            &quot;host&quot; : &quot;node1:27017&quot;,
            &quot;arbiterOnly&quot; : false,
            &quot;buildIndexes&quot; : true,
            &quot;hidden&quot; : false,
            &quot;priority&quot; : 1,
            &quot;tags&quot; : {

            },
            &quot;slaveDelay&quot; : NumberLong(0),
            &quot;votes&quot; : 1
        },
        {
            &quot;_id&quot; : 2,
            &quot;host&quot; : &quot;node3:27017&quot;,
            &quot;arbiterOnly&quot; : false,
            &quot;buildIndexes&quot; : true,
            &quot;hidden&quot; : false,
            &quot;priority&quot; : 1,
            &quot;tags&quot; : {

            },
            &quot;slaveDelay&quot; : NumberLong(0),
            &quot;votes&quot; : 1
        },
        {
            &quot;_id&quot; : 3,
            &quot;host&quot; : &quot;node2:27017&quot;,
            &quot;arbiterOnly&quot; : false,
            &quot;buildIndexes&quot; : true,
            &quot;hidden&quot; : false,
            &quot;priority&quot; : 1,
            &quot;tags&quot; : {

            },
            &quot;slaveDelay&quot; : NumberLong(0),
            &quot;votes&quot; : 1
        }
    ],
    &quot;settings&quot; : {
        &quot;chainingAllowed&quot; : true,
        &quot;heartbeatIntervalMillis&quot; : 2000,
        &quot;heartbeatTimeoutSecs&quot; : 10,
        &quot;electionTimeoutMillis&quot; : 10000,
        &quot;catchUpTimeoutMillis&quot; : -1,
        &quot;catchUpTakeoverDelayMillis&quot; : 30000,
        &quot;getLastErrorModes&quot; : {

        },
        &quot;getLastErrorDefaults&quot; : {
            &quot;w&quot; : 1,
            &quot;wtimeout&quot; : 0
        },
        &quot;replicaSetId&quot; : ObjectId(&quot;5ca419993f98997dbf343825&quot;)
    }
}

repset:PRIMARY&gt; cfg.members[2].priority=2
2

repset:PRIMARY&gt; rs.reconfig(cfg)
{
    &quot;ok&quot; : 1,
    &quot;operationTime&quot; : Timestamp(1554270041, 1),
    &quot;$clusterTime&quot; : {
        &quot;clusterTime&quot; : Timestamp(1554270041, 1),
        &quot;signature&quot; : {
            &quot;hash&quot; : BinData(0,&quot;AAAAAAAAAAAAAAAAAAAAAAAAAAA=&quot;),
            &quot;keyId&quot; : NumberLong(0)
        }
    }
}

repset:SECONDARY&gt; rs.isMaster()
{
    &quot;hosts&quot; : [
        &quot;node1:27017&quot;,
        &quot;node3:27017&quot;,
        &quot;node2:27017&quot;
    ],
    &quot;setName&quot; : &quot;repset&quot;,
    &quot;setVersion&quot; : 6,
    &quot;ismaster&quot; : false,
    &quot;secondary&quot; : true,
    &quot;primary&quot; : &quot;node2:27017&quot;,
    &quot;me&quot; : &quot;node1:27017&quot;,
    &quot;lastWrite&quot; : {
        &quot;opTime&quot; : {
            &quot;ts&quot; : Timestamp(1554270083, 1),
            &quot;t&quot; : NumberLong(3)
        },
        &quot;lastWriteDate&quot; : ISODate(&quot;2019-04-03T05:41:23Z&quot;),
        &quot;majorityOpTime&quot; : {
            &quot;ts&quot; : Timestamp(1554270083, 1),
            &quot;t&quot; : NumberLong(3)
        },
        &quot;majorityWriteDate&quot; : ISODate(&quot;2019-04-03T05:41:23Z&quot;)
    },
    &quot;maxBsonObjectSize&quot; : 16777216,
    &quot;maxMessageSizeBytes&quot; : 48000000,
    &quot;maxWriteBatchSize&quot; : 100000,
    &quot;localTime&quot; : ISODate(&quot;2019-04-03T05:41:31.133Z&quot;),
    &quot;logicalSessionTimeoutMinutes&quot; : 30,
    &quot;minWireVersion&quot; : 0,
    &quot;maxWireVersion&quot; : 7,
    &quot;readOnly&quot; : false,
    &quot;ok&quot; : 1,
    &quot;operationTime&quot; : Timestamp(1554270083, 1),
    &quot;$clusterTime&quot; : {
        &quot;clusterTime&quot; : Timestamp(1554270083, 1),
        &quot;signature&quot; : {
            &quot;hash&quot; : BinData(0,&quot;AAAAAAAAAAAAAAAAAAAAAAAAAAA=&quot;),
            &quot;keyId&quot; : NumberLong(0)
        }
    }
}
</pre></div>
给定的node2服务器就成为了primary节点。</p>
<h3 id="52">5.2 添加备份节点<a class="headerlink" href="#52" title="Permanent link">&para;</a></h3>
<p>hidden（成员用于支持专用功能）：这样设置后此机器在读写中都不可见，并且不会被选举为Primary，但是可以投票，一般用于备份数据。把node3节点删除，重启。再添加让其为hidden节点：</p>
<details class="note"><summary>删除node3</summary><div class="codehilite"><pre><span></span>repset:PRIMARY&gt; rs.status()
{
    &quot;set&quot; : &quot;repset&quot;,
    &quot;date&quot; : ISODate(&quot;2019-04-03T05:49:19.032Z&quot;),
    &quot;myState&quot; : 1,
    &quot;term&quot; : NumberLong(3),
    &quot;syncingTo&quot; : &quot;&quot;,
    &quot;syncSourceHost&quot; : &quot;&quot;,
    &quot;syncSourceId&quot; : -1,
    &quot;heartbeatIntervalMillis&quot; : NumberLong(2000),
    &quot;optimes&quot; : {
        &quot;lastCommittedOpTime&quot; : {
            &quot;ts&quot; : Timestamp(1554270553, 1),
            &quot;t&quot; : NumberLong(3)
        },
        &quot;readConcernMajorityOpTime&quot; : {
            &quot;ts&quot; : Timestamp(1554270553, 1),
            &quot;t&quot; : NumberLong(3)
        },
        &quot;appliedOpTime&quot; : {
            &quot;ts&quot; : Timestamp(1554270553, 1),
            &quot;t&quot; : NumberLong(3)
        },
        &quot;durableOpTime&quot; : {
            &quot;ts&quot; : Timestamp(1554270553, 1),
            &quot;t&quot; : NumberLong(3)
        }
    },
    &quot;lastStableCheckpointTimestamp&quot; : Timestamp(1554270513, 1),
    &quot;members&quot; : [
        {
            &quot;_id&quot; : 1,
            &quot;name&quot; : &quot;node1:27017&quot;,
            &quot;health&quot; : 1,
            &quot;state&quot; : 2,
            &quot;stateStr&quot; : &quot;SECONDARY&quot;,
            &quot;uptime&quot; : 7799,
            &quot;optime&quot; : {
                &quot;ts&quot; : Timestamp(1554270553, 1),
                &quot;t&quot; : NumberLong(3)
            },
            &quot;optimeDurable&quot; : {
                &quot;ts&quot; : Timestamp(1554270553, 1),
                &quot;t&quot; : NumberLong(3)
            },
            &quot;optimeDate&quot; : ISODate(&quot;2019-04-03T05:49:13Z&quot;),
            &quot;optimeDurableDate&quot; : ISODate(&quot;2019-04-03T05:49:13Z&quot;),
            &quot;lastHeartbeat&quot; : ISODate(&quot;2019-04-03T05:49:17.784Z&quot;),
            &quot;lastHeartbeatRecv&quot; : ISODate(&quot;2019-04-03T05:49:18.505Z&quot;),
            &quot;pingMs&quot; : NumberLong(0),
            &quot;lastHeartbeatMessage&quot; : &quot;&quot;,
            &quot;syncingTo&quot; : &quot;node2:27017&quot;,
            &quot;syncSourceHost&quot; : &quot;node2:27017&quot;,
            &quot;syncSourceId&quot; : 3,
            &quot;infoMessage&quot; : &quot;&quot;,
            &quot;configVersion&quot; : 6
        },
        {
            &quot;_id&quot; : 2,
            &quot;name&quot; : &quot;node3:27017&quot;,
            &quot;health&quot; : 1,
            &quot;state&quot; : 2,
            &quot;stateStr&quot; : &quot;SECONDARY&quot;,
            &quot;uptime&quot; : 7799,
            &quot;optime&quot; : {
                &quot;ts&quot; : Timestamp(1554270553, 1),
                &quot;t&quot; : NumberLong(3)
            },
            &quot;optimeDurable&quot; : {
                &quot;ts&quot; : Timestamp(1554270553, 1),
                &quot;t&quot; : NumberLong(3)
            },
            &quot;optimeDate&quot; : ISODate(&quot;2019-04-03T05:49:13Z&quot;),
            &quot;optimeDurableDate&quot; : ISODate(&quot;2019-04-03T05:49:13Z&quot;),
            &quot;lastHeartbeat&quot; : ISODate(&quot;2019-04-03T05:49:17.780Z&quot;),
            &quot;lastHeartbeatRecv&quot; : ISODate(&quot;2019-04-03T05:49:18.574Z&quot;),
            &quot;pingMs&quot; : NumberLong(1),
            &quot;lastHeartbeatMessage&quot; : &quot;&quot;,
            &quot;syncingTo&quot; : &quot;node2:27017&quot;,
            &quot;syncSourceHost&quot; : &quot;node2:27017&quot;,
            &quot;syncSourceId&quot; : 3,
            &quot;infoMessage&quot; : &quot;&quot;,
            &quot;configVersion&quot; : 6
        },
        {
            &quot;_id&quot; : 3,
            &quot;name&quot; : &quot;node2:27017&quot;,
            &quot;health&quot; : 1,
            &quot;state&quot; : 1,
            &quot;stateStr&quot; : &quot;PRIMARY&quot;,
            &quot;uptime&quot; : 8506,
            &quot;optime&quot; : {
                &quot;ts&quot; : Timestamp(1554270553, 1),
                &quot;t&quot; : NumberLong(3)
            },
            &quot;optimeDate&quot; : ISODate(&quot;2019-04-03T05:49:13Z&quot;),
            &quot;syncingTo&quot; : &quot;&quot;,
            &quot;syncSourceHost&quot; : &quot;&quot;,
            &quot;syncSourceId&quot; : -1,
            &quot;infoMessage&quot; : &quot;&quot;,
            &quot;electionTime&quot; : Timestamp(1554270051, 1),
            &quot;electionDate&quot; : ISODate(&quot;2019-04-03T05:40:51Z&quot;),
            &quot;configVersion&quot; : 6,
            &quot;self&quot; : true,
            &quot;lastHeartbeatMessage&quot; : &quot;&quot;
        }
    ],
    &quot;ok&quot; : 1,
    &quot;operationTime&quot; : Timestamp(1554270553, 1),
    &quot;$clusterTime&quot; : {
        &quot;clusterTime&quot; : Timestamp(1554270553, 1),
        &quot;signature&quot; : {
            &quot;hash&quot; : BinData(0,&quot;AAAAAAAAAAAAAAAAAAAAAAAAAAA=&quot;),
            &quot;keyId&quot; : NumberLong(0)
        }
    }
}
repset:PRIMARY&gt; rs.remove(&#39;node3:27017&#39;)
{
    &quot;ok&quot; : 1,
    &quot;operationTime&quot; : Timestamp(1554270578, 1),
    &quot;$clusterTime&quot; : {
        &quot;clusterTime&quot; : Timestamp(1554270578, 1),
        &quot;signature&quot; : {
            &quot;hash&quot; : BinData(0,&quot;AAAAAAAAAAAAAAAAAAAAAAAAAAA=&quot;),
            &quot;keyId&quot; : NumberLong(0)
        }
    }
}
repset:PRIMARY&gt; rs.status()
{
    &quot;set&quot; : &quot;repset&quot;,
    &quot;date&quot; : ISODate(&quot;2019-04-03T05:49:40.382Z&quot;),
    &quot;myState&quot; : 1,
    &quot;term&quot; : NumberLong(3),
    &quot;syncingTo&quot; : &quot;&quot;,
    &quot;syncSourceHost&quot; : &quot;&quot;,
    &quot;syncSourceId&quot; : -1,
    &quot;heartbeatIntervalMillis&quot; : NumberLong(2000),
    &quot;optimes&quot; : {
        &quot;lastCommittedOpTime&quot; : {
            &quot;ts&quot; : Timestamp(1554270578, 1),
            &quot;t&quot; : NumberLong(3)
        },
        &quot;readConcernMajorityOpTime&quot; : {
            &quot;ts&quot; : Timestamp(1554270578, 1),
            &quot;t&quot; : NumberLong(3)
        },
        &quot;appliedOpTime&quot; : {
            &quot;ts&quot; : Timestamp(1554270578, 1),
            &quot;t&quot; : NumberLong(3)
        },
        &quot;durableOpTime&quot; : {
            &quot;ts&quot; : Timestamp(1554270578, 1),
            &quot;t&quot; : NumberLong(3)
        }
    },
    &quot;lastStableCheckpointTimestamp&quot; : Timestamp(1554270573, 1),
    &quot;members&quot; : [
        {
            &quot;_id&quot; : 1,
            &quot;name&quot; : &quot;node1:27017&quot;,
            &quot;health&quot; : 1,
            &quot;state&quot; : 2,
            &quot;stateStr&quot; : &quot;SECONDARY&quot;,
            &quot;uptime&quot; : 7820,
            &quot;optime&quot; : {
                &quot;ts&quot; : Timestamp(1554270573, 1),
                &quot;t&quot; : NumberLong(3)
            },
            &quot;optimeDurable&quot; : {
                &quot;ts&quot; : Timestamp(1554270573, 1),
                &quot;t&quot; : NumberLong(3)
            },
            &quot;optimeDate&quot; : ISODate(&quot;2019-04-03T05:49:33Z&quot;),
            &quot;optimeDurableDate&quot; : ISODate(&quot;2019-04-03T05:49:33Z&quot;),
            &quot;lastHeartbeat&quot; : ISODate(&quot;2019-04-03T05:49:38.560Z&quot;),
            &quot;lastHeartbeatRecv&quot; : ISODate(&quot;2019-04-03T05:49:38.565Z&quot;),
            &quot;pingMs&quot; : NumberLong(0),
            &quot;lastHeartbeatMessage&quot; : &quot;&quot;,
            &quot;syncingTo&quot; : &quot;node2:27017&quot;,
            &quot;syncSourceHost&quot; : &quot;node2:27017&quot;,
            &quot;syncSourceId&quot; : 3,
            &quot;infoMessage&quot; : &quot;&quot;,
            &quot;configVersion&quot; : 6
        },
        {
            &quot;_id&quot; : 3,
            &quot;name&quot; : &quot;node2:27017&quot;,
            &quot;health&quot; : 1,
            &quot;state&quot; : 1,
            &quot;stateStr&quot; : &quot;PRIMARY&quot;,
            &quot;uptime&quot; : 8527,
            &quot;optime&quot; : {
                &quot;ts&quot; : Timestamp(1554270578, 1),
                &quot;t&quot; : NumberLong(3)
            },
            &quot;optimeDate&quot; : ISODate(&quot;2019-04-03T05:49:38Z&quot;),
            &quot;syncingTo&quot; : &quot;&quot;,
            &quot;syncSourceHost&quot; : &quot;&quot;,
            &quot;syncSourceId&quot; : -1,
            &quot;infoMessage&quot; : &quot;&quot;,
            &quot;electionTime&quot; : Timestamp(1554270051, 1),
            &quot;electionDate&quot; : ISODate(&quot;2019-04-03T05:40:51Z&quot;),
            &quot;configVersion&quot; : 7,
            &quot;self&quot; : true,
            &quot;lastHeartbeatMessage&quot; : &quot;&quot;
        }
    ],
    &quot;ok&quot; : 1,
    &quot;operationTime&quot; : Timestamp(1554270578, 1),
    &quot;$clusterTime&quot; : {
        &quot;clusterTime&quot; : Timestamp(1554270578, 1),
        &quot;signature&quot; : {
            &quot;hash&quot; : BinData(0,&quot;AAAAAAAAAAAAAAAAAAAAAAAAAAA=&quot;),
            &quot;keyId&quot; : NumberLong(0)
        }
    }
}
</pre></div>

</details>
<p>添加备用节点[hidden隐藏]</p>
<p><div class="codehilite"><pre><span></span>repset:PRIMARY&gt; rs.add({&quot;host&quot;:&quot;node3:27017&quot;,&quot;priority&quot;:0,&quot;hidden&quot;:true})
{
    &quot;ok&quot; : 1,
    &quot;operationTime&quot; : Timestamp(1554270639, 1),
    &quot;$clusterTime&quot; : {
        &quot;clusterTime&quot; : Timestamp(1554270639, 1),
        &quot;signature&quot; : {
            &quot;hash&quot; : BinData(0,&quot;AAAAAAAAAAAAAAAAAAAAAAAAAAA=&quot;),
            &quot;keyId&quot; : NumberLong(0)
        }
    }
}
</pre></div>
查看状态</p>
<p><div class="codehilite"><pre><span></span>repset:PRIMARY&gt; rs.conf()
{
    &quot;_id&quot; : &quot;repset&quot;,
    &quot;version&quot; : 8,
    &quot;protocolVersion&quot; : NumberLong(1),
    &quot;writeConcernMajorityJournalDefault&quot; : true,
    &quot;members&quot; : [
        {
            &quot;_id&quot; : 1,
            &quot;host&quot; : &quot;node1:27017&quot;,
            &quot;arbiterOnly&quot; : false,
            &quot;buildIndexes&quot; : true,
            &quot;hidden&quot; : false,
            &quot;priority&quot; : 1,
            &quot;tags&quot; : {

            },
            &quot;slaveDelay&quot; : NumberLong(0),
            &quot;votes&quot; : 1
        },
        {
            &quot;_id&quot; : 3,
            &quot;host&quot; : &quot;node2:27017&quot;,
            &quot;arbiterOnly&quot; : false,
            &quot;buildIndexes&quot; : true,
            &quot;hidden&quot; : false,
            &quot;priority&quot; : 2,
            &quot;tags&quot; : {

            },
            &quot;slaveDelay&quot; : NumberLong(0),
            &quot;votes&quot; : 1
        },
        {
            &quot;_id&quot; : 4,
            &quot;host&quot; : &quot;node3:27017&quot;,
            &quot;arbiterOnly&quot; : false,
            &quot;buildIndexes&quot; : true,
            &quot;hidden&quot; : true,
            &quot;priority&quot; : 0,
            &quot;tags&quot; : {

            },
            &quot;slaveDelay&quot; : NumberLong(0),
            &quot;votes&quot; : 1
        }
    ],
    &quot;settings&quot; : {
        &quot;chainingAllowed&quot; : true,
        &quot;heartbeatIntervalMillis&quot; : 2000,
        &quot;heartbeatTimeoutSecs&quot; : 10,
        &quot;electionTimeoutMillis&quot; : 10000,
        &quot;catchUpTimeoutMillis&quot; : -1,
        &quot;catchUpTakeoverDelayMillis&quot; : 30000,
        &quot;getLastErrorModes&quot; : {

        },
        &quot;getLastErrorDefaults&quot; : {
            &quot;w&quot; : 1,
            &quot;wtimeout&quot; : 0
        },
        &quot;replicaSetId&quot; : ObjectId(&quot;5ca419993f98997dbf343825&quot;)
    }
}
</pre></div>
测试其能否参与投票：关闭当前的Primary，查看是否自动转移Primary</p>
<div class="codehilite"><pre><span></span>repset:PRIMARY&gt; use admin
switched to db admin
repset:PRIMARY&gt; db.shutdownServer()
server should be down...
2019-04-03T13:57:22.020+0800 I NETWORK  [js] trying reconnect to 127.0.0.1:27017 failed
2019-04-03T13:57:22.601+0800 I NETWORK  [js] reconnect 127.0.0.1:27017 failed failed
2019-04-03T13:57:22.604+0800 I NETWORK  [js] trying reconnect to 127.0.0.1:27017 failed
2019-04-03T13:57:22.604+0800 I NETWORK  [js] reconnect 127.0.0.1:27017 failed failed
</pre></div>

<p>链接另一个服务器[随便哪个secondary节点]看看</p>
<details class="note"><summary>查看node1</summary><div class="codehilite"><pre><span></span><span class="n">repset</span><span class="p">:</span><span class="n">SECONDARY</span><span class="o">&gt;</span> <span class="n">rs</span><span class="o">.</span><span class="n">status</span><span class="p">()</span>
<span class="p">{</span>
    <span class="s2">&quot;set&quot;</span> <span class="p">:</span> <span class="s2">&quot;repset&quot;</span><span class="p">,</span>
    <span class="s2">&quot;date&quot;</span> <span class="p">:</span> <span class="n">ISODate</span><span class="p">(</span><span class="s2">&quot;2019-04-03T05:57:43.329Z&quot;</span><span class="p">),</span>
    <span class="s2">&quot;myState&quot;</span> <span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="s2">&quot;term&quot;</span> <span class="p">:</span> <span class="n">NumberLong</span><span class="p">(</span><span class="mi">4</span><span class="p">),</span>
    <span class="s2">&quot;syncingTo&quot;</span> <span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
    <span class="s2">&quot;syncSourceHost&quot;</span> <span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
    <span class="s2">&quot;syncSourceId&quot;</span> <span class="p">:</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span>
    <span class="s2">&quot;heartbeatIntervalMillis&quot;</span> <span class="p">:</span> <span class="n">NumberLong</span><span class="p">(</span><span class="mi">2000</span><span class="p">),</span>
    <span class="s2">&quot;optimes&quot;</span> <span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;lastCommittedOpTime&quot;</span> <span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;ts&quot;</span> <span class="p">:</span> <span class="n">Timestamp</span><span class="p">(</span><span class="mi">1554271063</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
            <span class="s2">&quot;t&quot;</span> <span class="p">:</span> <span class="n">NumberLong</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
        <span class="p">},</span>
        <span class="s2">&quot;readConcernMajorityOpTime&quot;</span> <span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;ts&quot;</span> <span class="p">:</span> <span class="n">Timestamp</span><span class="p">(</span><span class="mi">1554271063</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
            <span class="s2">&quot;t&quot;</span> <span class="p">:</span> <span class="n">NumberLong</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
        <span class="p">},</span>
        <span class="s2">&quot;appliedOpTime&quot;</span> <span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;ts&quot;</span> <span class="p">:</span> <span class="n">Timestamp</span><span class="p">(</span><span class="mi">1554271063</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
            <span class="s2">&quot;t&quot;</span> <span class="p">:</span> <span class="n">NumberLong</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
        <span class="p">},</span>
        <span class="s2">&quot;durableOpTime&quot;</span> <span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;ts&quot;</span> <span class="p">:</span> <span class="n">Timestamp</span><span class="p">(</span><span class="mi">1554271063</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
            <span class="s2">&quot;t&quot;</span> <span class="p">:</span> <span class="n">NumberLong</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
        <span class="p">}</span>
    <span class="p">},</span>
    <span class="s2">&quot;lastStableCheckpointTimestamp&quot;</span> <span class="p">:</span> <span class="n">Timestamp</span><span class="p">(</span><span class="mi">1554271023</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
    <span class="s2">&quot;members&quot;</span> <span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="s2">&quot;_id&quot;</span> <span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
            <span class="s2">&quot;name&quot;</span> <span class="p">:</span> <span class="s2">&quot;node1:27017&quot;</span><span class="p">,</span>
            <span class="s2">&quot;health&quot;</span> <span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
            <span class="s2">&quot;state&quot;</span> <span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
            <span class="s2">&quot;stateStr&quot;</span> <span class="p">:</span> <span class="s2">&quot;PRIMARY&quot;</span><span class="p">,</span>
            <span class="s2">&quot;uptime&quot;</span> <span class="p">:</span> <span class="mi">12784</span><span class="p">,</span>
            <span class="s2">&quot;optime&quot;</span> <span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;ts&quot;</span> <span class="p">:</span> <span class="n">Timestamp</span><span class="p">(</span><span class="mi">1554271063</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
                <span class="s2">&quot;t&quot;</span> <span class="p">:</span> <span class="n">NumberLong</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
            <span class="p">},</span>
            <span class="s2">&quot;optimeDate&quot;</span> <span class="p">:</span> <span class="n">ISODate</span><span class="p">(</span><span class="s2">&quot;2019-04-03T05:57:43Z&quot;</span><span class="p">),</span>
            <span class="s2">&quot;syncingTo&quot;</span> <span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
            <span class="s2">&quot;syncSourceHost&quot;</span> <span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
            <span class="s2">&quot;syncSourceId&quot;</span> <span class="p">:</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span>
            <span class="s2">&quot;infoMessage&quot;</span> <span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
            <span class="s2">&quot;electionTime&quot;</span> <span class="p">:</span> <span class="n">Timestamp</span><span class="p">(</span><span class="mi">1554271042</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
            <span class="s2">&quot;electionDate&quot;</span> <span class="p">:</span> <span class="n">ISODate</span><span class="p">(</span><span class="s2">&quot;2019-04-03T05:57:22Z&quot;</span><span class="p">),</span>
            <span class="s2">&quot;configVersion&quot;</span> <span class="p">:</span> <span class="mi">8</span><span class="p">,</span>
            <span class="s2">&quot;self&quot;</span> <span class="p">:</span> <span class="n">true</span><span class="p">,</span>
            <span class="s2">&quot;lastHeartbeatMessage&quot;</span> <span class="p">:</span> <span class="s2">&quot;&quot;</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;_id&quot;</span> <span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
            <span class="s2">&quot;name&quot;</span> <span class="p">:</span> <span class="s2">&quot;node2:27017&quot;</span><span class="p">,</span>
            <span class="s2">&quot;health&quot;</span> <span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
            <span class="s2">&quot;state&quot;</span> <span class="p">:</span> <span class="mi">8</span><span class="p">,</span>
            <span class="s2">&quot;stateStr&quot;</span> <span class="p">:</span> <span class="s2">&quot;(not reachable/healthy)&quot;</span><span class="p">,</span>
            <span class="s2">&quot;uptime&quot;</span> <span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
            <span class="s2">&quot;optime&quot;</span> <span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;ts&quot;</span> <span class="p">:</span> <span class="n">Timestamp</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span>
                <span class="s2">&quot;t&quot;</span> <span class="p">:</span> <span class="n">NumberLong</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
            <span class="p">},</span>
            <span class="s2">&quot;optimeDurable&quot;</span> <span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;ts&quot;</span> <span class="p">:</span> <span class="n">Timestamp</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span>
                <span class="s2">&quot;t&quot;</span> <span class="p">:</span> <span class="n">NumberLong</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
            <span class="p">},</span>
            <span class="s2">&quot;optimeDate&quot;</span> <span class="p">:</span> <span class="n">ISODate</span><span class="p">(</span><span class="s2">&quot;1970-01-01T00:00:00Z&quot;</span><span class="p">),</span>
            <span class="s2">&quot;optimeDurableDate&quot;</span> <span class="p">:</span> <span class="n">ISODate</span><span class="p">(</span><span class="s2">&quot;1970-01-01T00:00:00Z&quot;</span><span class="p">),</span>
            <span class="s2">&quot;lastHeartbeat&quot;</span> <span class="p">:</span> <span class="n">ISODate</span><span class="p">(</span><span class="s2">&quot;2019-04-03T05:57:42.073Z&quot;</span><span class="p">),</span>
            <span class="s2">&quot;lastHeartbeatRecv&quot;</span> <span class="p">:</span> <span class="n">ISODate</span><span class="p">(</span><span class="s2">&quot;2019-04-03T05:57:21.280Z&quot;</span><span class="p">),</span>
            <span class="s2">&quot;pingMs&quot;</span> <span class="p">:</span> <span class="n">NumberLong</span><span class="p">(</span><span class="mi">0</span><span class="p">),</span>
            <span class="s2">&quot;lastHeartbeatMessage&quot;</span> <span class="p">:</span> <span class="s2">&quot;Error connecting to node2:27017 (192.168.178.129:27017) :: caused by :: Connection refused&quot;</span><span class="p">,</span>
            <span class="s2">&quot;syncingTo&quot;</span> <span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
            <span class="s2">&quot;syncSourceHost&quot;</span> <span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
            <span class="s2">&quot;syncSourceId&quot;</span> <span class="p">:</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span>
            <span class="s2">&quot;infoMessage&quot;</span> <span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
            <span class="s2">&quot;configVersion&quot;</span> <span class="p">:</span> <span class="o">-</span><span class="mi">1</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;_id&quot;</span> <span class="p">:</span> <span class="mi">4</span><span class="p">,</span>
            <span class="s2">&quot;name&quot;</span> <span class="p">:</span> <span class="s2">&quot;node3:27017&quot;</span><span class="p">,</span>
            <span class="s2">&quot;health&quot;</span> <span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
            <span class="s2">&quot;state&quot;</span> <span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
            <span class="s2">&quot;stateStr&quot;</span> <span class="p">:</span> <span class="s2">&quot;SECONDARY&quot;</span><span class="p">,</span>
            <span class="s2">&quot;uptime&quot;</span> <span class="p">:</span> <span class="mi">423</span><span class="p">,</span>
            <span class="s2">&quot;optime&quot;</span> <span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;ts&quot;</span> <span class="p">:</span> <span class="n">Timestamp</span><span class="p">(</span><span class="mi">1554271053</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
                <span class="s2">&quot;t&quot;</span> <span class="p">:</span> <span class="n">NumberLong</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
            <span class="p">},</span>
            <span class="s2">&quot;optimeDurable&quot;</span> <span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;ts&quot;</span> <span class="p">:</span> <span class="n">Timestamp</span><span class="p">(</span><span class="mi">1554271053</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
                <span class="s2">&quot;t&quot;</span> <span class="p">:</span> <span class="n">NumberLong</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
            <span class="p">},</span>
            <span class="s2">&quot;optimeDate&quot;</span> <span class="p">:</span> <span class="n">ISODate</span><span class="p">(</span><span class="s2">&quot;2019-04-03T05:57:33Z&quot;</span><span class="p">),</span>
            <span class="s2">&quot;optimeDurableDate&quot;</span> <span class="p">:</span> <span class="n">ISODate</span><span class="p">(</span><span class="s2">&quot;2019-04-03T05:57:33Z&quot;</span><span class="p">),</span>
            <span class="s2">&quot;lastHeartbeat&quot;</span> <span class="p">:</span> <span class="n">ISODate</span><span class="p">(</span><span class="s2">&quot;2019-04-03T05:57:42.033Z&quot;</span><span class="p">),</span>
            <span class="s2">&quot;lastHeartbeatRecv&quot;</span> <span class="p">:</span> <span class="n">ISODate</span><span class="p">(</span><span class="s2">&quot;2019-04-03T05:57:42.614Z&quot;</span><span class="p">),</span>
            <span class="s2">&quot;pingMs&quot;</span> <span class="p">:</span> <span class="n">NumberLong</span><span class="p">(</span><span class="mi">0</span><span class="p">),</span>
            <span class="s2">&quot;lastHeartbeatMessage&quot;</span> <span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
            <span class="s2">&quot;syncingTo&quot;</span> <span class="p">:</span> <span class="s2">&quot;node1:27017&quot;</span><span class="p">,</span>
            <span class="s2">&quot;syncSourceHost&quot;</span> <span class="p">:</span> <span class="s2">&quot;node1:27017&quot;</span><span class="p">,</span>
            <span class="s2">&quot;syncSourceId&quot;</span> <span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
            <span class="s2">&quot;infoMessage&quot;</span> <span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
            <span class="s2">&quot;configVersion&quot;</span> <span class="p">:</span> <span class="mi">8</span>
        <span class="p">}</span>
    <span class="p">],</span>
    <span class="s2">&quot;ok&quot;</span> <span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="s2">&quot;operationTime&quot;</span> <span class="p">:</span> <span class="n">Timestamp</span><span class="p">(</span><span class="mi">1554271063</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
    <span class="s2">&quot;$clusterTime&quot;</span> <span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;clusterTime&quot;</span> <span class="p">:</span> <span class="n">Timestamp</span><span class="p">(</span><span class="mi">1554271063</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
        <span class="s2">&quot;signature&quot;</span> <span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;hash&quot;</span> <span class="p">:</span> <span class="n">BinData</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="s2">&quot;AAAAAAAAAAAAAAAAAAAAAAAAAAA=&quot;</span><span class="p">),</span>
            <span class="s2">&quot;keyId&quot;</span> <span class="p">:</span> <span class="n">NumberLong</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>

</details>
<p>上面说明Primary已经转移，说明hidden具有投票的权利，继续查看是否有数据复制的功能。</p>
<p>在看下是否复制</p>
<p><div class="codehilite"><pre><span></span>repset:PRIMARY&gt; db.test.count()
10000
repset:PRIMARY&gt; use test
switched to db test
repset:PRIMARY&gt; for(var i=0;i&lt;90;i++){db.test.insert({&quot;name&quot;:&quot;keke&quot;+i,&quot;age&quot;:123})}
WriteResult({ &quot;nInserted&quot; : 1 })
repset:PRIMARY&gt;  db.test.count()
10090

查看
repset:SECONDARY&gt; use test;
switched to db test
repset:SECONDARY&gt; db.test.count()
10090
</pre></div>
上面说明hidden具有数据复制的功能。</p>
<h3 id="53">5.3 添加延时节点<a class="headerlink" href="#53" title="Permanent link">&para;</a></h3>
<h4 id="531">5.3.1 操作<a class="headerlink" href="#531" title="Permanent link">&para;</a></h4>
<p>Delayed（成员用于支持专用功能）：可以指定一个时间延迟从primary节点同步数据。主要用于处理误删除数据马上同步到从节点导致的不一致问题。</p>
<p>把node3，也就是上面的隐藏节点删除，然后再以延时节点添加进来。</p>
<details class="note"><summary>删除node3</summary><div class="codehilite"><pre><span></span><span class="n">repset</span><span class="p">:</span><span class="n">PRIMARY</span><span class="o">&gt;</span> <span class="n">rs</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="s1">&#39;node3:27017&#39;</span><span class="p">)</span>
<span class="p">{</span>
    <span class="s2">&quot;ok&quot;</span> <span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="s2">&quot;operationTime&quot;</span> <span class="p">:</span> <span class="n">Timestamp</span><span class="p">(</span><span class="mi">1554271650</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
    <span class="s2">&quot;$clusterTime&quot;</span> <span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;clusterTime&quot;</span> <span class="p">:</span> <span class="n">Timestamp</span><span class="p">(</span><span class="mi">1554271650</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
        <span class="s2">&quot;signature&quot;</span> <span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;hash&quot;</span> <span class="p">:</span> <span class="n">BinData</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="s2">&quot;AAAAAAAAAAAAAAAAAAAAAAAAAAA=&quot;</span><span class="p">),</span>
            <span class="s2">&quot;keyId&quot;</span> <span class="p">:</span> <span class="n">NumberLong</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
<span class="n">repset</span><span class="p">:</span><span class="n">PRIMARY</span><span class="o">&gt;</span> <span class="n">rs</span><span class="o">.</span><span class="n">conf</span><span class="p">()</span>
<span class="p">{</span>
    <span class="s2">&quot;_id&quot;</span> <span class="p">:</span> <span class="s2">&quot;repset&quot;</span><span class="p">,</span>
    <span class="s2">&quot;version&quot;</span> <span class="p">:</span> <span class="mi">9</span><span class="p">,</span>
    <span class="s2">&quot;protocolVersion&quot;</span> <span class="p">:</span> <span class="n">NumberLong</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span>
    <span class="s2">&quot;writeConcernMajorityJournalDefault&quot;</span> <span class="p">:</span> <span class="n">true</span><span class="p">,</span>
    <span class="s2">&quot;members&quot;</span> <span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="s2">&quot;_id&quot;</span> <span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
            <span class="s2">&quot;host&quot;</span> <span class="p">:</span> <span class="s2">&quot;node1:27017&quot;</span><span class="p">,</span>
            <span class="s2">&quot;arbiterOnly&quot;</span> <span class="p">:</span> <span class="n">false</span><span class="p">,</span>
            <span class="s2">&quot;buildIndexes&quot;</span> <span class="p">:</span> <span class="n">true</span><span class="p">,</span>
            <span class="s2">&quot;hidden&quot;</span> <span class="p">:</span> <span class="n">false</span><span class="p">,</span>
            <span class="s2">&quot;priority&quot;</span> <span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
            <span class="s2">&quot;tags&quot;</span> <span class="p">:</span> <span class="p">{</span>

            <span class="p">},</span>
            <span class="s2">&quot;slaveDelay&quot;</span> <span class="p">:</span> <span class="n">NumberLong</span><span class="p">(</span><span class="mi">0</span><span class="p">),</span>
            <span class="s2">&quot;votes&quot;</span> <span class="p">:</span> <span class="mi">1</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;_id&quot;</span> <span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
            <span class="s2">&quot;host&quot;</span> <span class="p">:</span> <span class="s2">&quot;node2:27017&quot;</span><span class="p">,</span>
            <span class="s2">&quot;arbiterOnly&quot;</span> <span class="p">:</span> <span class="n">false</span><span class="p">,</span>
            <span class="s2">&quot;buildIndexes&quot;</span> <span class="p">:</span> <span class="n">true</span><span class="p">,</span>
            <span class="s2">&quot;hidden&quot;</span> <span class="p">:</span> <span class="n">false</span><span class="p">,</span>
            <span class="s2">&quot;priority&quot;</span> <span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
            <span class="s2">&quot;tags&quot;</span> <span class="p">:</span> <span class="p">{</span>

            <span class="p">},</span>
            <span class="s2">&quot;slaveDelay&quot;</span> <span class="p">:</span> <span class="n">NumberLong</span><span class="p">(</span><span class="mi">0</span><span class="p">),</span>
            <span class="s2">&quot;votes&quot;</span> <span class="p">:</span> <span class="mi">1</span>
        <span class="p">}</span>
    <span class="p">],</span>
    <span class="s2">&quot;settings&quot;</span> <span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;chainingAllowed&quot;</span> <span class="p">:</span> <span class="n">true</span><span class="p">,</span>
        <span class="s2">&quot;heartbeatIntervalMillis&quot;</span> <span class="p">:</span> <span class="mi">2000</span><span class="p">,</span>
        <span class="s2">&quot;heartbeatTimeoutSecs&quot;</span> <span class="p">:</span> <span class="mi">10</span><span class="p">,</span>
        <span class="s2">&quot;electionTimeoutMillis&quot;</span> <span class="p">:</span> <span class="mi">10000</span><span class="p">,</span>
        <span class="s2">&quot;catchUpTimeoutMillis&quot;</span> <span class="p">:</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span>
        <span class="s2">&quot;catchUpTakeoverDelayMillis&quot;</span> <span class="p">:</span> <span class="mi">30000</span><span class="p">,</span>
        <span class="s2">&quot;getLastErrorModes&quot;</span> <span class="p">:</span> <span class="p">{</span>

        <span class="p">},</span>
        <span class="s2">&quot;getLastErrorDefaults&quot;</span> <span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;w&quot;</span> <span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
            <span class="s2">&quot;wtimeout&quot;</span> <span class="p">:</span> <span class="mi">0</span>
        <span class="p">},</span>
        <span class="s2">&quot;replicaSetId&quot;</span> <span class="p">:</span> <span class="n">ObjectId</span><span class="p">(</span><span class="s2">&quot;5ca419993f98997dbf343825&quot;</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>

</details>
<p>添加node3以延时节点方式添加到集群</p>
<p><div class="codehilite"><pre><span></span>rs.add({&quot;host&quot;:&quot;node3:27017&quot;,&quot;priority&quot;:0,&quot;hidden&quot;:false,&quot;slaveDelay&quot;:120})
</pre></div>
期中priority必须为0,否则会报错。报错如下</p>
<blockquote>
<p>"errmsg" : "priority must be 0 when slaveDelay is used"</p>
</blockquote>
<details class="note"><summary>添加延时node3节点</summary><div class="codehilite"><pre><span></span>repset:PRIMARY&gt; rs.add({&quot;host&quot;:&quot;node3:27017&quot;,&quot;priority&quot;:0,&quot;hidden&quot;:false,&quot;slaveDelay&quot;:120})
{
    &quot;ok&quot; : 1,
    &quot;operationTime&quot; : Timestamp(1554271789, 1),
    &quot;$clusterTime&quot; : {
        &quot;clusterTime&quot; : Timestamp(1554271789, 1),
        &quot;signature&quot; : {
            &quot;hash&quot; : BinData(0,&quot;AAAAAAAAAAAAAAAAAAAAAAAAAAA=&quot;),
            &quot;keyId&quot; : NumberLong(0)
        }
    }
}
repset:PRIMARY&gt; rs.conf()
{
    &quot;_id&quot; : &quot;repset&quot;,
    &quot;version&quot; : 10,
    &quot;protocolVersion&quot; : NumberLong(1),
    &quot;writeConcernMajorityJournalDefault&quot; : true,
    &quot;members&quot; : [
        {
            &quot;_id&quot; : 1,
            &quot;host&quot; : &quot;node1:27017&quot;,
            &quot;arbiterOnly&quot; : false,
            &quot;buildIndexes&quot; : true,
            &quot;hidden&quot; : false,
            &quot;priority&quot; : 1,
            &quot;tags&quot; : {

            },
            &quot;slaveDelay&quot; : NumberLong(0),
            &quot;votes&quot; : 1
        },
        {
            &quot;_id&quot; : 3,
            &quot;host&quot; : &quot;node2:27017&quot;,
            &quot;arbiterOnly&quot; : false,
            &quot;buildIndexes&quot; : true,
            &quot;hidden&quot; : false,
            &quot;priority&quot; : 2,
            &quot;tags&quot; : {

            },
            &quot;slaveDelay&quot; : NumberLong(0),
            &quot;votes&quot; : 1
        },
        {
            &quot;_id&quot; : 4,
            &quot;host&quot; : &quot;node3:27017&quot;,
            &quot;arbiterOnly&quot; : false,
            &quot;buildIndexes&quot; : true,
            &quot;hidden&quot; : false,
            &quot;priority&quot; : 0,
            &quot;tags&quot; : {

            },
            &quot;slaveDelay&quot; : NumberLong(120),
            &quot;votes&quot; : 1
        }
    ],
    &quot;settings&quot; : {
        &quot;chainingAllowed&quot; : true,
        &quot;heartbeatIntervalMillis&quot; : 2000,
        &quot;heartbeatTimeoutSecs&quot; : 10,
        &quot;electionTimeoutMillis&quot; : 10000,
        &quot;catchUpTimeoutMillis&quot; : -1,
        &quot;catchUpTakeoverDelayMillis&quot; : 30000,
        &quot;getLastErrorModes&quot; : {

        },
        &quot;getLastErrorDefaults&quot; : {
            &quot;w&quot; : 1,
            &quot;wtimeout&quot; : 0
        },
        &quot;replicaSetId&quot; : ObjectId(&quot;5ca419993f98997dbf343825&quot;)
    }
}
</pre></div>

</details>
<h4 id="532">5.3.2 测试<a class="headerlink" href="#532" title="Permanent link">&para;</a></h4>
<p>首先在primary上添加数据，然后去延时节点上查看。</p>
<p>primary上查看
<div class="codehilite"><pre><span></span>repset:PRIMARY&gt; db.test.count()
11000
</pre></div>
此时立马查看secondary上信息</p>
<p><div class="codehilite"><pre><span></span>repset:SECONDARY&gt; db.test.count()
11000
</pre></div>
从上可见，secondary是primary一样数据，此时开始向primary怼数据。</p>
<p><div class="codehilite"><pre><span></span>repset:PRIMARY&gt; for(var i=0;i&lt;1000;i++){db.test.insert({&quot;name&quot;:&quot;taotaolinux&quot;+i,&quot;age&quot;:10})}
WriteResult({ &quot;nInserted&quot; : 1 })
repset:PRIMARY&gt; db.test.count()
12000
</pre></div>
时查看没有延时节点secondary数据
<div class="codehilite"><pre><span></span>repset:SECONDARY&gt; db.test.count()
12000
</pre></div>
说明数据立马同步过来了。</p>
<p>紧接着此时立马查看延时节点的secondary数据。</p>
<p><div class="codehilite"><pre><span></span>repset:SECONDARY&gt; db.test.count()
11000
</pre></div>
没有立马同步。在等等吧，我上面配置了120秒数据才同步。时间到了再次查看延时节点。</p>
<p><div class="codehilite"><pre><span></span>repset:SECONDARY&gt; db.test.count()
12000
</pre></div>
&#160; &#160; &#160; &#160;nice，时间到了，数据过来了。上面说明delayed能够成功的把同步操作延迟120秒执行。除了上面的成员之外，</p>
<ul>
<li>Secondary-Only:不能成为primary节点，只能作为secondary副本节点，防止一些性能不高的节点成为主节点。</li>
<li>Non-Voting：没有选举权的secondary节点，纯粹的备份数据节点。</li>
</ul>
<p>具体成员信息如下：</p>
<table>
<thead>
<tr>
<th>功能</th>
<th>成为primary</th>
<th>对客户端可见</th>
<th>参与投票</th>
<th>延迟同步</th>
<th>复制数据</th>
</tr>
</thead>
<tbody>
<tr>
<td>Default</td>
<td>√</td>
<td>√</td>
<td>√</td>
<td>∕</td>
<td>√</td>
</tr>
<tr>
<td>Secondary-Only</td>
<td>/</td>
<td>√</td>
<td>√</td>
<td>∕</td>
<td>√</td>
</tr>
<tr>
<td>Hidden</td>
<td>/</td>
<td>/</td>
<td>√</td>
<td>∕</td>
<td>√</td>
</tr>
<tr>
<td>Delayed</td>
<td>/</td>
<td>√</td>
<td>√</td>
<td>√</td>
<td>√</td>
</tr>
<tr>
<td>Arbiters</td>
<td>/</td>
<td>/</td>
<td>√</td>
<td>∕</td>
<td>/</td>
</tr>
<tr>
<td>Non-Voting</td>
<td>√</td>
<td>√</td>
<td>/</td>
<td>∕</td>
<td>√</td>
</tr>
</tbody>
</table>
<h3 id="54">5.4 读写分离<a class="headerlink" href="#54" title="Permanent link">&para;</a></h3>
<p>&#160; &#160; &#160; &#160;MongoDB副本集对读写分离的支持是通过Read Preferences特性进行支持的，这个特性非常复杂和灵活。</p>
<p>&#160; &#160; &#160; &#160;应用程序驱动通过read reference来设定如何对副本集进行读取操作，默认的,客户端驱动所有的读操作都是直接访问primary节点的，从而保证了数据的严格一致性。</p>
<p>支持五种的read preference模式 <a href="https://docs.mongodb.com/manual/applications/replication/#replica-set-read-preference">官网传送门</a></p>
<div class="codehilite"><pre><span></span>primary ： 主节点，默认模式，读操作只在主节点，如果主节点不可用，报错或者抛出异常。
primaryPreferred ： 首选主节点，大多情况下读操作在主节点，如果主节点不可用，如故障转移，读操作在从节点。
secondary ：从节点，读操作只在从节点， 如果从节点不可用，报错或者抛出异常。
secondaryPreferred ： 首选从节点，大多情况下读操作在从节点，特殊情况（如单主节点架构）读操作在主节点。
nearest ： 最邻近节点，读操作在最邻近的成员，可能是主节点或者从节点，关于最邻近的成员请参考
</pre></div>
                
                  
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../mongo.monitor/" title="11. MonogoDB monitor" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  后退
                </span>
                11. MonogoDB monitor
              </span>
            </div>
          </a>
        
        
          <a href="../mongo.shard_info/" title="13. MonogoDB split replication" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  前进
                </span>
                13. MonogoDB split replication
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
                        蜀ICP备16001068号-2  Copyright © 2019 taotaolinux.com All Rights Reserved
          </div>
        
        powered by
        <a href="https://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
  <div class="md-footer-social">
    <link rel="stylesheet" href="../../../assets/fonts/font-awesome.css">
    
      <a href="https://github.com/ZhangTao880414" class="md-footer-social__link fa fa-github"></a>
    
  </div>

    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../../assets/javascripts/application.39abc4af.js"></script>
      
        
        
          
          <script src="../../../assets/javascripts/lunr/lunr.stemmer.support.js"></script>
          
            
              
              
            
          
          
        
      
      <script>app.initialize({version:"1.0.3",url:{base:"../../.."}})</script>
      
        <script src="../../../js/extra.js"></script>
      
        <script src="../../../js/baidu-tongji.js"></script>
      
        <script src="../../../js/webfont.js"></script>
      
        <script src="../../../js/snap.svg-min.js"></script>
      
        <script src="../../../js/underscore-min.js"></script>
      
        <script src="../../../js/sequence-diagram-min.js"></script>
      
        <script src="../../../js/uml-converter.js"></script>
      
        <script src="../../../js/sequence-loader.js"></script>
      
    
  </body>
</html>